<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2279px" preserveAspectRatio="none" style="width:6639px;height:2279px;" version="1.1" viewBox="0 0 6639 2279" width="6639px" zoomAndPan="magnify"><defs><filter height="300%" id="f1brx3u6zotm3l" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2dda658635ad7153195e30da94d39759]
class ACard--><rect codeLine="2" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="137.6328" id="ACard" style="stroke:#A80036;stroke-width:1.5;" width="265" x="1132.5" y="440"/><ellipse cx="1242.25" cy="456" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1242.3594,451.3438 L1241.2031,456.4219 L1243.5313,456.4219 L1242.3594,451.3438 Z M1240.875,449.1094 L1243.8594,449.1094 L1247.2188,461.5 L1244.7656,461.5 L1244,458.4375 L1240.7188,458.4375 L1239.9688,461.5 L1237.5313,461.5 L1240.875,449.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="1262.75" y="460.1543">ACard</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1133.5" x2="1396.5" y1="472" y2="472"/><ellipse cx="1143.5" cy="483" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1152.5" y="486.2104">int Id {get;set;}</text><ellipse cx="1143.5" cy="495.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="1152.5" y="499.0151">string Name {get;set;}</text><ellipse cx="1143.5" cy="508.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1152.5" y="511.8198">string Description {get;set;}</text><ellipse cx="1143.5" cy="521.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="1152.5" y="524.6245">double Damage {get;set;}</text><ellipse cx="1143.5" cy="534.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="1152.5" y="537.4292">EElementalType ElementalType {get;set;}</text><ellipse cx="1143.5" cy="547.0234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="1152.5" y="550.2339">ECardType CardType {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1133.5" x2="1396.5" y1="556.8281" y2="556.8281"/><ellipse cx="1143.5" cy="567.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1152.5" y="571.0386">override string ToString()</text><!--MD5=[3aed0a7e65369be2f239e593f8718ba2]
class AreaCard--><rect codeLine="12" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="AreaCard" style="stroke:#A80036;stroke-width:1.5;" width="131" x="693.5" y="695"/><ellipse cx="726.95" cy="711" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M729.9188,716.6406 Q729.3406,716.9375 728.7,717.0781 Q728.0594,717.2344 727.3563,717.2344 Q724.8563,717.2344 723.5281,715.5938 Q722.2156,713.9375 722.2156,710.8125 Q722.2156,707.6875 723.5281,706.0313 Q724.8563,704.375 727.3563,704.375 Q728.0594,704.375 728.7,704.5313 Q729.3563,704.6875 729.9188,704.9844 L729.9188,707.7031 Q729.2938,707.125 728.7,706.8594 Q728.1063,706.5781 727.4813,706.5781 Q726.1375,706.5781 725.45,707.6563 Q724.7625,708.7188 724.7625,710.8125 Q724.7625,712.9063 725.45,713.9844 Q726.1375,715.0469 727.4813,715.0469 Q728.1063,715.0469 728.7,714.7813 Q729.2938,714.5 729.9188,713.9219 L729.9188,716.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="745.05" y="715.1543">AreaCard</text><line style="stroke:#A80036;stroke-width:1.5;" x1="694.5" x2="823.5" y1="727" y2="727"/><ellipse cx="704.5" cy="738" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="713.5" y="741.2104">int Uses{get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="694.5" x2="823.5" y1="747.8047" y2="747.8047"/><!--MD5=[38a4cc4b862622ae18c211e34a8b180b]
class MonsterCard--><rect codeLine="15" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="MonsterCard" style="stroke:#A80036;stroke-width:1.5;" width="245" x="859.5" y="695"/><ellipse cx="937.75" cy="711" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M940.7188,716.6406 Q940.1406,716.9375 939.5,717.0781 Q938.8594,717.2344 938.1563,717.2344 Q935.6563,717.2344 934.3281,715.5938 Q933.0156,713.9375 933.0156,710.8125 Q933.0156,707.6875 934.3281,706.0313 Q935.6563,704.375 938.1563,704.375 Q938.8594,704.375 939.5,704.5313 Q940.1563,704.6875 940.7188,704.9844 L940.7188,707.7031 Q940.0938,707.125 939.5,706.8594 Q938.9063,706.5781 938.2813,706.5781 Q936.9375,706.5781 936.25,707.6563 Q935.5625,708.7188 935.5625,710.8125 Q935.5625,712.9063 936.25,713.9844 Q936.9375,715.0469 938.2813,715.0469 Q938.9063,715.0469 939.5,714.7813 Q940.0938,714.5 940.7188,713.9219 L940.7188,716.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="958.25" y="715.1543">MonsterCard</text><line style="stroke:#A80036;stroke-width:1.5;" x1="860.5" x2="1103.5" y1="727" y2="727"/><ellipse cx="870.5" cy="738" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="879.5" y="741.2104">EMonsterType MonsterType {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="860.5" x2="1103.5" y1="747.8047" y2="747.8047"/><!--MD5=[943271c7b810aaa151001b782ac97be9]
class ServantCard--><rect codeLine="18" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="ServantCard" style="stroke:#A80036;stroke-width:1.5;" width="251" x="1139.5" y="695"/><ellipse cx="1222.25" cy="711" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1225.2188,716.6406 Q1224.6406,716.9375 1224,717.0781 Q1223.3594,717.2344 1222.6563,717.2344 Q1220.1563,717.2344 1218.8281,715.5938 Q1217.5156,713.9375 1217.5156,710.8125 Q1217.5156,707.6875 1218.8281,706.0313 Q1220.1563,704.375 1222.6563,704.375 Q1223.3594,704.375 1224,704.5313 Q1224.6563,704.6875 1225.2188,704.9844 L1225.2188,707.7031 Q1224.5938,707.125 1224,706.8594 Q1223.4063,706.5781 1222.7813,706.5781 Q1221.4375,706.5781 1220.75,707.6563 Q1220.0625,708.7188 1220.0625,710.8125 Q1220.0625,712.9063 1220.75,713.9844 Q1221.4375,715.0469 1222.7813,715.0469 Q1223.4063,715.0469 1224,714.7813 Q1224.5938,714.5 1225.2188,713.9219 L1225.2188,716.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="1242.75" y="715.1543">ServantCard</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1140.5" x2="1389.5" y1="727" y2="727"/><ellipse cx="1150.5" cy="738" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="1159.5" y="741.2104">EServantClass ServantClass {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1140.5" x2="1389.5" y1="747.8047" y2="747.8047"/><!--MD5=[801abd42a1f0e3c1039de247edfe5aa8]
class SpellCard--><rect codeLine="21" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="48" id="SpellCard" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1425.5" y="701.5"/><ellipse cx="1440.5" cy="717.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1443.4688,723.1406 Q1442.8906,723.4375 1442.25,723.5781 Q1441.6094,723.7344 1440.9063,723.7344 Q1438.4063,723.7344 1437.0781,722.0938 Q1435.7656,720.4375 1435.7656,717.3125 Q1435.7656,714.1875 1437.0781,712.5313 Q1438.4063,710.875 1440.9063,710.875 Q1441.6094,710.875 1442.25,711.0313 Q1442.9063,711.1875 1443.4688,711.4844 L1443.4688,714.2031 Q1442.8438,713.625 1442.25,713.3594 Q1441.6563,713.0781 1441.0313,713.0781 Q1439.6875,713.0781 1439,714.1563 Q1438.3125,715.2188 1438.3125,717.3125 Q1438.3125,719.4063 1439,720.4844 Q1439.6875,721.5469 1441.0313,721.5469 Q1441.6563,721.5469 1442.25,721.2813 Q1442.8438,721 1443.4688,720.4219 L1443.4688,723.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="1454.5" y="721.6543">SpellCard</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1426.5" x2="1515.5" y1="733.5" y2="733.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1426.5" x2="1515.5" y1="741.5" y2="741.5"/><!--MD5=[d8f4ee2f6fc85e6e9673c54682ba35c8]
class TrapCard--><rect codeLine="22" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="TrapCard" style="stroke:#A80036;stroke-width:1.5;" width="131" x="1551.5" y="695"/><ellipse cx="1585.4" cy="711" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1588.3688,716.6406 Q1587.7906,716.9375 1587.15,717.0781 Q1586.5094,717.2344 1585.8063,717.2344 Q1583.3063,717.2344 1581.9781,715.5938 Q1580.6656,713.9375 1580.6656,710.8125 Q1580.6656,707.6875 1581.9781,706.0313 Q1583.3063,704.375 1585.8063,704.375 Q1586.5094,704.375 1587.15,704.5313 Q1587.8063,704.6875 1588.3688,704.9844 L1588.3688,707.7031 Q1587.7438,707.125 1587.15,706.8594 Q1586.5563,706.5781 1585.9313,706.5781 Q1584.5875,706.5781 1583.9,707.6563 Q1583.2125,708.7188 1583.2125,710.8125 Q1583.2125,712.9063 1583.9,713.9844 Q1584.5875,715.0469 1585.9313,715.0469 Q1586.5563,715.0469 1587.15,714.7813 Q1587.7438,714.5 1588.3688,713.9219 L1588.3688,716.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="1603.6" y="715.1543">TrapCard</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1552.5" x2="1681.5" y1="727" y2="727"/><ellipse cx="1562.5" cy="738" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="1571.5" y="741.2104">int Uses{get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1552.5" x2="1681.5" y1="747.8047" y2="747.8047"/><!--MD5=[e2ae5d5442dfdb8993ff20691818de8b]
class BattleHistory--><rect codeLine="27" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="BattleHistory" style="stroke:#A80036;stroke-width:1.5;" width="235" x="1357.5" y="20"/><ellipse cx="1430.75" cy="36" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1433.7188,41.6406 Q1433.1406,41.9375 1432.5,42.0781 Q1431.8594,42.2344 1431.1563,42.2344 Q1428.6563,42.2344 1427.3281,40.5938 Q1426.0156,38.9375 1426.0156,35.8125 Q1426.0156,32.6875 1427.3281,31.0313 Q1428.6563,29.375 1431.1563,29.375 Q1431.8594,29.375 1432.5,29.5313 Q1433.1563,29.6875 1433.7188,29.9844 L1433.7188,32.7031 Q1433.0938,32.125 1432.5,31.8594 Q1431.9063,31.5781 1431.2813,31.5781 Q1429.9375,31.5781 1429.25,32.6563 Q1428.5625,33.7188 1428.5625,35.8125 Q1428.5625,37.9063 1429.25,38.9844 Q1429.9375,40.0469 1431.2813,40.0469 Q1431.9063,40.0469 1432.5,39.7813 Q1433.0938,39.5 1433.7188,38.9219 L1433.7188,41.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="1451.25" y="40.1543">BattleHistory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1358.5" x2="1591.5" y1="52" y2="52"/><ellipse cx="1368.5" cy="63" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1377.5" y="66.2104">int Id {get;set;}</text><ellipse cx="1368.5" cy="75.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="1377.5" y="79.0151">User User {get;set;}</text><ellipse cx="1368.5" cy="88.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="1377.5" y="91.8198">EBattleResult BattleResult {get;set;}</text><ellipse cx="1368.5" cy="101.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="1377.5" y="104.6245">int PointChange {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1358.5" x2="1591.5" y1="111.2188" y2="111.2188"/><!--MD5=[4e2ad48a1abc117fdc6f339da0f64213]
class Package--><rect codeLine="34" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="Package" style="stroke:#A80036;stroke-width:1.5;" width="198" x="1014" y="230"/><ellipse cx="1081.75" cy="246" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1084.7188,251.6406 Q1084.1406,251.9375 1083.5,252.0781 Q1082.8594,252.2344 1082.1563,252.2344 Q1079.6563,252.2344 1078.3281,250.5938 Q1077.0156,248.9375 1077.0156,245.8125 Q1077.0156,242.6875 1078.3281,241.0313 Q1079.6563,239.375 1082.1563,239.375 Q1082.8594,239.375 1083.5,239.5313 Q1084.1563,239.6875 1084.7188,239.9844 L1084.7188,242.7031 Q1084.0938,242.125 1083.5,241.8594 Q1082.9063,241.5781 1082.2813,241.5781 Q1080.9375,241.5781 1080.25,242.6563 Q1079.5625,243.7188 1079.5625,245.8125 Q1079.5625,247.9063 1080.25,248.9844 Q1080.9375,250.0469 1082.2813,250.0469 Q1082.9063,250.0469 1083.5,249.7813 Q1084.0938,249.5 1084.7188,248.9219 L1084.7188,251.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="1102.25" y="250.1543">Package</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1015" x2="1211" y1="262" y2="262"/><ellipse cx="1025" cy="273" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1034" y="276.2104">int Id {get;set}</text><ellipse cx="1025" cy="285.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="1034" y="289.0151">List&lt;ACard&gt; Cards {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1015" x2="1211" y1="295.6094" y2="295.6094"/><!--MD5=[2694bdbf0a0192c1cedae33f913282fb]
class TradingDeal--><rect codeLine="39" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="124.8281" id="TradingDeal" style="stroke:#A80036;stroke-width:1.5;" width="207" x="1115.5" y="7"/><ellipse cx="1177.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1180.2188,28.6406 Q1179.6406,28.9375 1179,29.0781 Q1178.3594,29.2344 1177.6563,29.2344 Q1175.1563,29.2344 1173.8281,27.5938 Q1172.5156,25.9375 1172.5156,22.8125 Q1172.5156,19.6875 1173.8281,18.0313 Q1175.1563,16.375 1177.6563,16.375 Q1178.3594,16.375 1179,16.5313 Q1179.6563,16.6875 1180.2188,16.9844 L1180.2188,19.7031 Q1179.5938,19.125 1179,18.8594 Q1178.4063,18.5781 1177.7813,18.5781 Q1176.4375,18.5781 1175.75,19.6563 Q1175.0625,20.7188 1175.0625,22.8125 Q1175.0625,24.9063 1175.75,25.9844 Q1176.4375,27.0469 1177.7813,27.0469 Q1178.4063,27.0469 1179,26.7813 Q1179.5938,26.5 1180.2188,25.9219 L1180.2188,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="1197.75" y="27.1543">TradingDeal</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1116.5" x2="1321.5" y1="39" y2="39"/><ellipse cx="1126.5" cy="50" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1135.5" y="53.2104">int Id {get;set;}</text><ellipse cx="1126.5" cy="62.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="1135.5" y="66.0151">ACard OfferedCard {get;set;}</text><ellipse cx="1126.5" cy="75.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="1135.5" y="78.8198">int RequiredCoins {get;set;}</text><ellipse cx="1126.5" cy="88.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="1135.5" y="91.6245">int MinDamage {get;set;}</text><ellipse cx="1126.5" cy="101.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="1135.5" y="104.4292">ECardType CardType {get;set;}</text><ellipse cx="1126.5" cy="114.0234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="1135.5" y="117.2339">User OfferingUser {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1116.5" x2="1321.5" y1="123.8281" y2="123.8281"/><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect codeLine="48" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="124.8281" id="User" style="stroke:#A80036;stroke-width:1.5;" width="222" x="1341" y="204.5"/><ellipse cx="1433.25" cy="220.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1436.2188,226.1406 Q1435.6406,226.4375 1435,226.5781 Q1434.3594,226.7344 1433.6563,226.7344 Q1431.1563,226.7344 1429.8281,225.0938 Q1428.5156,223.4375 1428.5156,220.3125 Q1428.5156,217.1875 1429.8281,215.5313 Q1431.1563,213.875 1433.6563,213.875 Q1434.3594,213.875 1435,214.0313 Q1435.6563,214.1875 1436.2188,214.4844 L1436.2188,217.2031 Q1435.5938,216.625 1435,216.3594 Q1434.4063,216.0781 1433.7813,216.0781 Q1432.4375,216.0781 1431.75,217.1563 Q1431.0625,218.2188 1431.0625,220.3125 Q1431.0625,222.4063 1431.75,223.4844 Q1432.4375,224.5469 1433.7813,224.5469 Q1434.4063,224.5469 1435,224.2813 Q1435.5938,224 1436.2188,223.4219 L1436.2188,226.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="1453.75" y="224.6543">User</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1342" x2="1562" y1="236.5" y2="236.5"/><ellipse cx="1352" cy="247.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1361" y="250.7104">int Id {get;set;}</text><ellipse cx="1352" cy="260.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1361" y="263.5151">string Username {get;set;}</text><ellipse cx="1352" cy="273.1094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1361" y="276.3198">string Bio {get;set;}</text><ellipse cx="1352" cy="285.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1361" y="289.1245">List&lt;ACard&gt; CardStack {get;set;}</text><ellipse cx="1352" cy="298.7188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="1361" y="301.9292">List&lt;ACard&gt; CardDeck {get;set;}</text><ellipse cx="1352" cy="311.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="1361" y="314.7339">int Coins {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1342" x2="1562" y1="321.3281" y2="321.3281"/><!--MD5=[bb1e2fadcc3f7ce70f10e83efc9e8e11]
class UserStats--><rect codeLine="57" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="UserStats" style="stroke:#A80036;stroke-width:1.5;" width="211" x="1627.5" y="26.5"/><ellipse cx="1697.75" cy="42.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1700.7188,48.1406 Q1700.1406,48.4375 1699.5,48.5781 Q1698.8594,48.7344 1698.1563,48.7344 Q1695.6563,48.7344 1694.3281,47.0938 Q1693.0156,45.4375 1693.0156,42.3125 Q1693.0156,39.1875 1694.3281,37.5313 Q1695.6563,35.875 1698.1563,35.875 Q1698.8594,35.875 1699.5,36.0313 Q1700.1563,36.1875 1700.7188,36.4844 L1700.7188,39.2031 Q1700.0938,38.625 1699.5,38.3594 Q1698.9063,38.0781 1698.2813,38.0781 Q1696.9375,38.0781 1696.25,39.1563 Q1695.5625,40.2188 1695.5625,42.3125 Q1695.5625,44.4063 1696.25,45.4844 Q1696.9375,46.5469 1698.2813,46.5469 Q1698.9063,46.5469 1699.5,46.2813 Q1700.0938,46 1700.7188,45.4219 L1700.7188,48.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1718.25" y="46.6543">UserStats</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1628.5" x2="1837.5" y1="58.5" y2="58.5"/><ellipse cx="1638.5" cy="69.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="1647.5" y="72.7104">User User {get;set;}</text><ellipse cx="1638.5" cy="82.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1647.5" y="85.5151">int Points {get;set;}</text><ellipse cx="1638.5" cy="95.1094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1647.5" y="98.3198">double WinLoseReatio {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1628.5" x2="1837.5" y1="104.9141" y2="104.9141"/><!--MD5=[9008fb9785d32d8c7b4133f15567ce57]
class EBattleResult--><rect codeLine="71" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="EBattleResult" style="stroke:#A80036;stroke-width:1.5;" width="116" x="9" y="26.5"/><ellipse cx="24" cy="42.5" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M28.1094,48.5 L20.3906,48.5 L20.3906,36.1094 L28.1094,36.1094 L28.1094,38.2656 L22.8438,38.2656 L22.8438,40.9375 L27.6094,40.9375 L27.6094,43.0938 L22.8438,43.0938 L22.8438,46.3438 L28.1094,46.3438 L28.1094,48.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="38" y="46.6543">EBattleResult</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="124" y1="58.5" y2="58.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="15" y="72.7104">WIN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="15" y="85.5151">LOSS,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="15" y="98.3198">DRAW</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="124" y1="104.9141" y2="104.9141"/><!--MD5=[536182f5ca944e50702dcfbcdc5d28c1]
class ECardType--><rect codeLine="76" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="112.0234" id="ECardType" style="stroke:#A80036;stroke-width:1.5;" width="98" x="160" y="13.5"/><ellipse cx="175" cy="29.5" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M179.1094,35.5 L171.3906,35.5 L171.3906,23.1094 L179.1094,23.1094 L179.1094,25.2656 L173.8438,25.2656 L173.8438,27.9375 L178.6094,27.9375 L178.6094,30.0938 L173.8438,30.0938 L173.8438,33.3438 L179.1094,33.3438 L179.1094,35.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="189" y="33.6543">ECardType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="161" x2="257" y1="45.5" y2="45.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="166" y="59.7104">MONSTER,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="166" y="72.5151">AREA;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="166" y="85.3198">TRAP,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="166" y="98.1245">SERVANT,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="166" y="110.9292">SPELL</text><line style="stroke:#A80036;stroke-width:1.5;" x1="161" x2="257" y1="117.5234" y2="117.5234"/><!--MD5=[a7f58ded8aa392cf2ae16063e2508a38]
class EElementalType--><rect codeLine="83" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="112.0234" id="EElementalType" style="stroke:#A80036;stroke-width:1.5;" width="131" x="293.5" y="13.5"/><ellipse cx="308.5" cy="29.5" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M312.6094,35.5 L304.8906,35.5 L304.8906,23.1094 L312.6094,23.1094 L312.6094,25.2656 L307.3438,25.2656 L307.3438,27.9375 L312.1094,27.9375 L312.1094,30.0938 L307.3438,30.0938 L307.3438,33.3438 L312.6094,33.3438 L312.6094,35.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="322.5" y="33.6543">EElementalType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="294.5" x2="423.5" y1="45.5" y2="45.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="299.5" y="59.7104">FIRE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="299.5" y="72.5151">WATER,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="299.5" y="85.3198">NORMAL,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="299.5" y="98.1245">GROUND,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="299.5" y="110.9292">ELECTRIC</text><line style="stroke:#A80036;stroke-width:1.5;" x1="294.5" x2="423.5" y1="117.5234" y2="117.5234"/><!--MD5=[2437b36da9fc988f21e445b659127f24]
class EMonsterType--><rect codeLine="90" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="137.6328" id="EMonsterType" style="stroke:#A80036;stroke-width:1.5;" width="120" x="7" y="198"/><ellipse cx="22" cy="214" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M26.1094,220 L18.3906,220 L18.3906,207.6094 L26.1094,207.6094 L26.1094,209.7656 L20.8438,209.7656 L20.8438,212.4375 L25.6094,212.4375 L25.6094,214.5938 L20.8438,214.5938 L20.8438,217.8438 L26.1094,217.8438 L26.1094,220 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="36" y="218.1543">EMonsterType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="126" y1="230" y2="230"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="13" y="244.2104">GOBLIN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="13" y="257.0151">WIZZARD,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="13" y="269.8198">KNIGHT,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="13" y="282.6245">KRAKEN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="13" y="295.4292">DRAGON,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="13" y="308.2339">ORK,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="13" y="321.0386">ELF</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="126" y1="327.6328" y2="327.6328"/><!--MD5=[1fd4c70b8596df5ec715fc3020cdce42]
class EServantClass--><rect codeLine="100" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="137.6328" id="EServantClass" style="stroke:#A80036;stroke-width:1.5;" width="121" x="162.5" y="198"/><ellipse cx="177.5" cy="214" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M181.6094,220 L173.8906,220 L173.8906,207.6094 L181.6094,207.6094 L181.6094,209.7656 L176.3438,209.7656 L176.3438,212.4375 L181.1094,212.4375 L181.1094,214.5938 L176.3438,214.5938 L176.3438,217.8438 L181.6094,217.8438 L181.6094,220 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="191.5" y="218.1543">EServantClass</text><line style="stroke:#A80036;stroke-width:1.5;" x1="163.5" x2="282.5" y1="230" y2="230"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="168.5" y="244.2104">SABER,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="168.5" y="257.0151">ARCHER,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="168.5" y="269.8198">LANCER,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="168.5" y="282.6245">RIDER,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="168.5" y="295.4292">ASSASSIN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="168.5" y="308.2339">CASTER,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="168.5" y="321.0386">BERSERKER</text><line style="stroke:#A80036;stroke-width:1.5;" x1="163.5" x2="282.5" y1="327.6328" y2="327.6328"/><!--MD5=[623289d6fbaf9407976cd1b74d3e1011]
class AAffinityChart--><rect codeLine="111" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="AAffinityChart" style="stroke:#A80036;stroke-width:1.5;" width="479" x="1158.5" y="1988"/><ellipse cx="1351.75" cy="2004" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1351.8594,1999.3438 L1350.7031,2004.4219 L1353.0313,2004.4219 L1351.8594,1999.3438 Z M1350.375,1997.1094 L1353.3594,1997.1094 L1356.7188,2009.5 L1354.2656,2009.5 L1353.5,2006.4375 L1350.2188,2006.4375 L1349.4688,2009.5 L1347.0313,2009.5 L1350.375,1997.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="1372.25" y="2008.1543">AAffinityChart</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1159.5" x2="1636.5" y1="2020" y2="2020"/><polygon fill="none" points="1169.5,2026,1173.5,2030,1169.5,2034,1165.5,2030" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="1178.5" y="2034.2104">List&lt;EElementalType&gt; elementalWeaknesses</text><polygon fill="none" points="1169.5,2038.8047,1173.5,2042.8047,1169.5,2046.8047,1165.5,2042.8047" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="1178.5" y="2047.0151">List&lt;EElementalType&gt; elementalStrengths</text><ellipse cx="1169.5" cy="2056.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="1178.5" y="2059.8198">EElementalType ElementalType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1159.5" x2="1636.5" y1="2066.4141" y2="2066.4141"/><ellipse cx="1169.5" cy="2077.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="453" x="1178.5" y="2080.6245">virtual double CalculateElementalAttackModifier(EElementalType elementalType)</text><!--MD5=[b2801e5bbb100a599feb5498ef0976c0]
class AServantHierarchy--><rect codeLine="121" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="AServantHierarchy" style="stroke:#A80036;stroke-width:1.5;" width="452" x="1673" y="1988"/><ellipse cx="1836.75" cy="2004" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1836.8594,1999.3438 L1835.7031,2004.4219 L1838.0313,2004.4219 L1836.8594,1999.3438 Z M1835.375,1997.1094 L1838.3594,1997.1094 L1841.7188,2009.5 L1839.2656,2009.5 L1838.5,2006.4375 L1835.2188,2006.4375 L1834.4688,2009.5 L1832.0313,2009.5 L1835.375,1997.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="116" x="1857.25" y="2008.1543">AServantHierarchy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1674" x2="2124" y1="2020" y2="2020"/><polygon fill="none" points="1684,2026,1688,2030,1684,2034,1680,2030" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="1693" y="2034.2104">List&lt;EServantClass&gt; servantWeaknesses</text><polygon fill="none" points="1684,2038.8047,1688,2042.8047,1684,2046.8047,1680,2042.8047" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="1693" y="2047.0151">List&lt;EServantClass&gt; servantStrengths</text><ellipse cx="1684" cy="2056.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1693" y="2059.8198">EServantClass ServantClass</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1674" x2="2124" y1="2066.4141" y2="2066.4141"/><ellipse cx="1684" cy="2077.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="426" x="1693" y="2080.6245">virtual double CalculateServantAttackModifier(EServantClass servantClass)</text><!--MD5=[67d693c75be8dfd578c97677d38bfe5d]
class AMonsterHierarchy--><rect codeLine="130" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="188.8516" id="AMonsterHierarchy" style="stroke:#A80036;stroke-width:1.5;" width="651" x="2160.5" y="1943"/><ellipse cx="2422.75" cy="1959" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2422.8594,1954.3438 L2421.7031,1959.4219 L2424.0313,1959.4219 L2422.8594,1954.3438 Z M2421.375,1952.1094 L2424.3594,1952.1094 L2427.7188,1964.5 L2425.2656,1964.5 L2424.5,1961.4375 L2421.2188,1961.4375 L2420.4688,1964.5 L2418.0313,1964.5 L2421.375,1952.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="2443.25" y="1963.1543">AMonsterHierarchy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2161.5" x2="2810.5" y1="1975" y2="1975"/><polygon fill="none" points="2171.5,1981,2175.5,1985,2171.5,1989,2167.5,1985" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="2180.5" y="1989.2104">List&lt;EMonsterType&gt; generalMonsterWeaknesses</text><polygon fill="none" points="2171.5,1993.8047,2175.5,1997.8047,2171.5,2001.8047,2167.5,1997.8047" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="475" x="2180.5" y="2002.0151">List&lt;SpecificElementalMonsterCombination&gt; specificElementalMonsterWeaknesses</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="2184.5" y="2014.8198"/><polygon fill="none" points="2171.5,2019.4141,2175.5,2023.4141,2171.5,2027.4141,2167.5,2023.4141" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="2180.5" y="2027.6245">List&lt;ECardType&gt; generalCardStrengths</text><polygon fill="none" points="2171.5,2032.2188,2175.5,2036.2188,2171.5,2040.2188,2167.5,2036.2188" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="476" x="2180.5" y="2040.4292">List&lt;SpecificElementalCardTypeCombination&gt; specificElementalCardTypeStrengths</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="2184.5" y="2053.2339"/><polygon fill="none" points="2171.5,2057.8281,2175.5,2061.8281,2171.5,2065.8281,2167.5,2061.8281" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="2180.5" y="2066.0386">List&lt;ECardType&gt; generalCardWeaknesses</text><polygon fill="none" points="2171.5,2070.6328,2175.5,2074.6328,2171.5,2078.6328,2167.5,2074.6328" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="491" x="2180.5" y="2078.8433">List&lt;SpecificElementalCardTypeCombination&gt; specificElementalCardTypeWeaknesses</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2161.5" x2="2810.5" y1="2085.4375" y2="2085.4375"/><ellipse cx="2171.5" cy="2096.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="610" x="2180.5" y="2099.6479">virtual double CalculateMonsterAttackModifier(EMonsterType monsterType, EElementalType elementalType)</text><ellipse cx="2171.5" cy="2109.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="625" x="2180.5" y="2112.4526">virtual double CalculateMixedBattleEnemyAttackModifier(ECardType cardType, EElementalType elementalType)</text><ellipse cx="2171.5" cy="2122.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="612" x="2180.5" y="2125.2573">virtual double CalculateMixedBattleOwnAttackModifier(ECardType cardType, EElementalType elementalType)</text><!--MD5=[023065387cc37094d872d348c316ca15]
class SpecificElementalMonsterCombination--><rect codeLine="146" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="SpecificElementalMonsterCombination" style="stroke:#A80036;stroke-width:1.5;" width="271" x="2195.5" y="2192"/><ellipse cx="2210.5" cy="2208" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2213.4688,2213.6406 Q2212.8906,2213.9375 2212.25,2214.0781 Q2211.6094,2214.2344 2210.9063,2214.2344 Q2208.4063,2214.2344 2207.0781,2212.5938 Q2205.7656,2210.9375 2205.7656,2207.8125 Q2205.7656,2204.6875 2207.0781,2203.0313 Q2208.4063,2201.375 2210.9063,2201.375 Q2211.6094,2201.375 2212.25,2201.5313 Q2212.9063,2201.6875 2213.4688,2201.9844 L2213.4688,2204.7031 Q2212.8438,2204.125 2212.25,2203.8594 Q2211.6563,2203.5781 2211.0313,2203.5781 Q2209.6875,2203.5781 2209,2204.6563 Q2208.3125,2205.7188 2208.3125,2207.8125 Q2208.3125,2209.9063 2209,2210.9844 Q2209.6875,2212.0469 2211.0313,2212.0469 Q2211.6563,2212.0469 2212.25,2211.7813 Q2212.8438,2211.5 2213.4688,2210.9219 L2213.4688,2213.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="2224.5" y="2212.1543">SpecificElementalMonsterCombination</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2196.5" x2="2465.5" y1="2224" y2="2224"/><ellipse cx="2206.5" cy="2235" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="2215.5" y="2238.2104">EMonsterType MonsterType {get;set;}</text><ellipse cx="2206.5" cy="2247.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="2215.5" y="2251.0151">EElementalType ElementalType {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2196.5" x2="2465.5" y1="2257.6094" y2="2257.6094"/><!--MD5=[e6eea3fa4bf6ede50081b8d6b2b26706]
class SpecificElementalCardTypeCombination--><rect codeLine="151" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="SpecificElementalCardTypeCombination" style="stroke:#A80036;stroke-width:1.5;" width="278" x="2502" y="2192"/><ellipse cx="2517" cy="2208" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2519.9688,2213.6406 Q2519.3906,2213.9375 2518.75,2214.0781 Q2518.1094,2214.2344 2517.4063,2214.2344 Q2514.9063,2214.2344 2513.5781,2212.5938 Q2512.2656,2210.9375 2512.2656,2207.8125 Q2512.2656,2204.6875 2513.5781,2203.0313 Q2514.9063,2201.375 2517.4063,2201.375 Q2518.1094,2201.375 2518.75,2201.5313 Q2519.4063,2201.6875 2519.9688,2201.9844 L2519.9688,2204.7031 Q2519.3438,2204.125 2518.75,2203.8594 Q2518.1563,2203.5781 2517.5313,2203.5781 Q2516.1875,2203.5781 2515.5,2204.6563 Q2514.8125,2205.7188 2514.8125,2207.8125 Q2514.8125,2209.9063 2515.5,2210.9844 Q2516.1875,2212.0469 2517.5313,2212.0469 Q2518.1563,2212.0469 2518.75,2211.7813 Q2519.3438,2211.5 2519.9688,2210.9219 L2519.9688,2213.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="246" x="2531" y="2212.1543">SpecificElementalCardTypeCombination</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2503" x2="2779" y1="2224" y2="2224"/><ellipse cx="2513" cy="2235" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="2522" y="2238.2104">ECardType CardType{get;set;}</text><ellipse cx="2513" cy="2247.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="2522" y="2251.0151">EElementalType ElementalType{get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2503" x2="2779" y1="2257.6094" y2="2257.6094"/><!--MD5=[899d295edfba46dd6cbb2676576ccd01]
class IAreaBattleInfluencer--><rect codeLine="160" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="IAreaBattleInfluencer" style="stroke:#A80036;stroke-width:1.5;" width="329" x="2230.5" y="1618"/><ellipse cx="2324.25" cy="1634" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2320.1719,1629.7656 L2320.1719,1627.6094 L2327.5625,1627.6094 L2327.5625,1629.7656 L2325.0938,1629.7656 L2325.0938,1637.8438 L2327.5625,1637.8438 L2327.5625,1640 L2320.1719,1640 L2320.1719,1637.8438 L2322.6406,1637.8438 L2322.6406,1629.7656 L2320.1719,1629.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="133" x="2344.75" y="1638.1543">IAreaBattleInfluencer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2231.5" x2="2558.5" y1="1650" y2="1650"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2231.5" x2="2558.5" y1="1658" y2="1658"/><ellipse cx="2241.5" cy="1669" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="2250.5" y="1672.2104">BattleResult InfluenceBattle(BattleResult battleResult)</text><!--MD5=[3a63e03f1973f2bd303c6d3167dc11cd]
class ITrapBattleInfluencer--><rect codeLine="164" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="ITrapBattleInfluencer" style="stroke:#A80036;stroke-width:1.5;" width="467" x="2594.5" y="1618"/><ellipse cx="2757.75" cy="1634" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2753.6719,1629.7656 L2753.6719,1627.6094 L2761.0625,1627.6094 L2761.0625,1629.7656 L2758.5938,1629.7656 L2758.5938,1637.8438 L2761.0625,1637.8438 L2761.0625,1640 L2753.6719,1640 L2753.6719,1637.8438 L2756.1406,1637.8438 L2756.1406,1629.7656 L2753.6719,1629.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="2778.25" y="1638.1543">ITrapBattleInfluencer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2595.5" x2="3060.5" y1="1650" y2="1650"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2595.5" x2="3060.5" y1="1658" y2="1658"/><ellipse cx="2605.5" cy="1669" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="441" x="2614.5" y="1672.2104">BattleResult InfluenceBattle(BattleResult battleResult, bool plantedByAttacker)</text><!--MD5=[8123f3662db12c43e3242f4668df8780]
class IArena--><rect codeLine="168" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="IArena" style="stroke:#A80036;stroke-width:1.5;" width="481" x="2154.5" y="1313"/><ellipse cx="2370.25" cy="1329" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2366.1719,1324.7656 L2366.1719,1322.6094 L2373.5625,1322.6094 L2373.5625,1324.7656 L2371.0938,1324.7656 L2371.0938,1332.8438 L2373.5625,1332.8438 L2373.5625,1335 L2366.1719,1335 L2366.1719,1332.8438 L2368.6406,1332.8438 L2368.6406,1324.7656 L2366.1719,1324.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="2390.75" y="1333.1543">IArena</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2155.5" x2="2634.5" y1="1345" y2="1345"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2155.5" x2="2634.5" y1="1353" y2="1353"/><ellipse cx="2165.5" cy="1364" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="2174.5" y="1367.2104">BattleResult ConductBattle(ACard attacker, ACard defender, IRulebook rulebook)</text><!--MD5=[4ef04d2fb6d87512d29e89383e7e34dc]
class IRulebook--><rect codeLine="172" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="IRulebook" style="stroke:#A80036;stroke-width:1.5;" width="378" x="1735" y="1618"/><ellipse cx="1888.75" cy="1634" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1884.6719,1629.7656 L1884.6719,1627.6094 L1892.0625,1627.6094 L1892.0625,1629.7656 L1889.5938,1629.7656 L1889.5938,1637.8438 L1892.0625,1637.8438 L1892.0625,1640 L1884.6719,1640 L1884.6719,1637.8438 L1887.1406,1637.8438 L1887.1406,1629.7656 L1884.6719,1629.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="1909.25" y="1638.1543">IRulebook</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1736" x2="2112" y1="1650" y2="1650"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1736" x2="2112" y1="1658" y2="1658"/><ellipse cx="1746" cy="1669" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="352" x="1755" y="1672.2104">BattleResult DetermineVictor(ACard attacker, ACard defender)</text><!--MD5=[a59b3c649c65eb8a09f02896970b9483]
class BattleResult--><rect codeLine="176" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="124.8281" id="BattleResult" style="stroke:#A80036;stroke-width:1.5;" width="225" x="2078.5" y="1758"/><ellipse cx="2148.75" cy="1774" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2151.7188,1779.6406 Q2151.1406,1779.9375 2150.5,1780.0781 Q2149.8594,1780.2344 2149.1563,1780.2344 Q2146.6563,1780.2344 2145.3281,1778.5938 Q2144.0156,1776.9375 2144.0156,1773.8125 Q2144.0156,1770.6875 2145.3281,1769.0313 Q2146.6563,1767.375 2149.1563,1767.375 Q2149.8594,1767.375 2150.5,1767.5313 Q2151.1563,1767.6875 2151.7188,1767.9844 L2151.7188,1770.7031 Q2151.0938,1770.125 2150.5,1769.8594 Q2149.9063,1769.5781 2149.2813,1769.5781 Q2147.9375,1769.5781 2147.25,1770.6563 Q2146.5625,1771.7188 2146.5625,1773.8125 Q2146.5625,1775.9063 2147.25,1776.9844 Q2147.9375,1778.0469 2149.2813,1778.0469 Q2149.9063,1778.0469 2150.5,1777.7813 Q2151.0938,1777.5 2151.7188,1776.9219 L2151.7188,1779.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="2169.25" y="1778.1543">BattleResult</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2079.5" x2="2302.5" y1="1790" y2="1790"/><ellipse cx="2089.5" cy="1801" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="2098.5" y="1804.2104">ACard Victor{get;set;}</text><ellipse cx="2089.5" cy="1813.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="2098.5" y="1817.0151">ACard Attacker{get;set;}</text><ellipse cx="2089.5" cy="1826.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="2098.5" y="1829.8198">ACard Defender{get;set;}</text><ellipse cx="2089.5" cy="1839.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="2098.5" y="1842.6245">double AttackerDamage{get;set;}</text><ellipse cx="2089.5" cy="1852.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="2098.5" y="1855.4292">double DefenderDamage{get;set;}</text><ellipse cx="2089.5" cy="1865.0234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="2098.5" y="1868.2339">string BattleDescription{get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2079.5" x2="2302.5" y1="1874.8281" y2="1874.8281"/><!--MD5=[32cee153a344e27b41a037592ded5196]
class BattleSummary--><rect codeLine="185" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="BattleSummary" style="stroke:#A80036;stroke-width:1.5;" width="273" x="1846.5" y="1294"/><ellipse cx="1931.75" cy="1310" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1934.7188,1315.6406 Q1934.1406,1315.9375 1933.5,1316.0781 Q1932.8594,1316.2344 1932.1563,1316.2344 Q1929.6563,1316.2344 1928.3281,1314.5938 Q1927.0156,1312.9375 1927.0156,1309.8125 Q1927.0156,1306.6875 1928.3281,1305.0313 Q1929.6563,1303.375 1932.1563,1303.375 Q1932.8594,1303.375 1933.5,1303.5313 Q1934.1563,1303.6875 1934.7188,1303.9844 L1934.7188,1306.7031 Q1934.0938,1306.125 1933.5,1305.8594 Q1932.9063,1305.5781 1932.2813,1305.5781 Q1930.9375,1305.5781 1930.25,1306.6563 Q1929.5625,1307.7188 1929.5625,1309.8125 Q1929.5625,1311.9063 1930.25,1312.9844 Q1930.9375,1314.0469 1932.2813,1314.0469 Q1932.9063,1314.0469 1933.5,1313.7813 Q1934.0938,1313.5 1934.7188,1312.9219 L1934.7188,1315.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="1952.25" y="1314.1543">BattleSummary</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1847.5" x2="2118.5" y1="1326" y2="1326"/><ellipse cx="1857.5" cy="1337" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1866.5" y="1340.2104">int BattleStats{get;set;}</text><ellipse cx="1857.5" cy="1349.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1866.5" y="1353.0151">User Victor {get;set;}</text><ellipse cx="1857.5" cy="1362.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1866.5" y="1365.8198">User Loser {get;set;}</text><ellipse cx="1857.5" cy="1375.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="1866.5" y="1378.6245">List&lt;BattleResult&gt; BattleResults {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1847.5" x2="2118.5" y1="1385.2188" y2="1385.2188"/><!--MD5=[7cfcec95ce8c7b3cc21f2a5540b61e10]
class Area--><rect codeLine="192" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="Area" style="stroke:#A80036;stroke-width:1.5;" width="261" x="2338.5" y="1790"/><ellipse cx="2450.25" cy="1806" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2453.2188,1811.6406 Q2452.6406,1811.9375 2452,1812.0781 Q2451.3594,1812.2344 2450.6563,1812.2344 Q2448.1563,1812.2344 2446.8281,1810.5938 Q2445.5156,1808.9375 2445.5156,1805.8125 Q2445.5156,1802.6875 2446.8281,1801.0313 Q2448.1563,1799.375 2450.6563,1799.375 Q2451.3594,1799.375 2452,1799.5313 Q2452.6563,1799.6875 2453.2188,1799.9844 L2453.2188,1802.7031 Q2452.5938,1802.125 2452,1801.8594 Q2451.4063,1801.5781 2450.7813,1801.5781 Q2449.4375,1801.5781 2448.75,1802.6563 Q2448.0625,1803.7188 2448.0625,1805.8125 Q2448.0625,1807.9063 2448.75,1808.9844 Q2449.4375,1810.0469 2450.7813,1810.0469 Q2451.4063,1810.0469 2452,1809.7813 Q2452.5938,1809.5 2453.2188,1808.9219 L2453.2188,1811.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="2470.75" y="1810.1543">Area</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2339.5" x2="2598.5" y1="1822" y2="1822"/><ellipse cx="2349.5" cy="1833" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="2358.5" y="1836.2104">EElementalType ElementalType{get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2339.5" x2="2598.5" y1="1842.8047" y2="1842.8047"/><!--MD5=[9c3b62adbf6f70de9f7865728c502100]
class Trap--><rect codeLine="196" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="60.8047" id="Trap" style="stroke:#A80036;stroke-width:1.5;" width="199" x="2728.5" y="1790"/><ellipse cx="2809.75" cy="1806" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2812.7188,1811.6406 Q2812.1406,1811.9375 2811.5,1812.0781 Q2810.8594,1812.2344 2810.1563,1812.2344 Q2807.6563,1812.2344 2806.3281,1810.5938 Q2805.0156,1808.9375 2805.0156,1805.8125 Q2805.0156,1802.6875 2806.3281,1801.0313 Q2807.6563,1799.375 2810.1563,1799.375 Q2810.8594,1799.375 2811.5,1799.5313 Q2812.1563,1799.6875 2812.7188,1799.9844 L2812.7188,1802.7031 Q2812.0938,1802.125 2811.5,1801.8594 Q2810.9063,1801.5781 2810.2813,1801.5781 Q2808.9375,1801.5781 2808.25,1802.6563 Q2807.5625,1803.7188 2807.5625,1805.8125 Q2807.5625,1807.9063 2808.25,1808.9844 Q2808.9375,1810.0469 2810.2813,1810.0469 Q2810.9063,1810.0469 2811.5,1809.7813 Q2812.0938,1809.5 2812.7188,1808.9219 L2812.7188,1811.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="2830.25" y="1810.1543">Trap</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2729.5" x2="2926.5" y1="1822" y2="1822"/><ellipse cx="2739.5" cy="1833" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="2748.5" y="1836.2104">double PureDamage{get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2729.5" x2="2926.5" y1="1842.8047" y2="1842.8047"/><!--MD5=[01aeada2388ef746e455587df9a4d391]
class Arena--><rect codeLine="200" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="Arena" style="stroke:#A80036;stroke-width:1.5;" width="232" x="2279" y="1453"/><ellipse cx="2372.25" cy="1469" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2375.2188,1474.6406 Q2374.6406,1474.9375 2374,1475.0781 Q2373.3594,1475.2344 2372.6563,1475.2344 Q2370.1563,1475.2344 2368.8281,1473.5938 Q2367.5156,1471.9375 2367.5156,1468.8125 Q2367.5156,1465.6875 2368.8281,1464.0313 Q2370.1563,1462.375 2372.6563,1462.375 Q2373.3594,1462.375 2374,1462.5313 Q2374.6563,1462.6875 2375.2188,1462.9844 L2375.2188,1465.7031 Q2374.5938,1465.125 2374,1464.8594 Q2373.4063,1464.5781 2372.7813,1464.5781 Q2371.4375,1464.5781 2370.75,1465.6563 Q2370.0625,1466.7188 2370.0625,1468.8125 Q2370.0625,1470.9063 2370.75,1471.9844 Q2371.4375,1473.0469 2372.7813,1473.0469 Q2373.4063,1473.0469 2374,1472.7813 Q2374.5938,1472.5 2375.2188,1471.9219 L2375.2188,1474.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="37" x="2392.75" y="1473.1543">Arena</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2280" x2="2510" y1="1485" y2="1485"/><ellipse cx="2290" cy="1496" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="2299" y="1499.2104">IAreaBattleInfluencer battleFieldArea</text><ellipse cx="2290" cy="1508.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="2299" y="1512.0151">ITrapBattleInfluencer attackerTrap</text><ellipse cx="2290" cy="1521.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="2299" y="1524.8198">ITrapBattleInfluencer defenderTrap</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2280" x2="2510" y1="1531.4141" y2="1531.4141"/><!--MD5=[ae32dabcdf5bc5fbaf61707211bf949d]
class Rulebook--><rect codeLine="206" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="Rulebook" style="stroke:#A80036;stroke-width:1.5;" width="288" x="1755" y="1777.5"/><ellipse cx="1865.75" cy="1793.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1868.7188,1799.1406 Q1868.1406,1799.4375 1867.5,1799.5781 Q1866.8594,1799.7344 1866.1563,1799.7344 Q1863.6563,1799.7344 1862.3281,1798.0938 Q1861.0156,1796.4375 1861.0156,1793.3125 Q1861.0156,1790.1875 1862.3281,1788.5313 Q1863.6563,1786.875 1866.1563,1786.875 Q1866.8594,1786.875 1867.5,1787.0313 Q1868.1563,1787.1875 1868.7188,1787.4844 L1868.7188,1790.2031 Q1868.0938,1789.625 1867.5,1789.3594 Q1866.9063,1789.0781 1866.2813,1789.0781 Q1864.9375,1789.0781 1864.25,1790.1563 Q1863.5625,1791.2188 1863.5625,1793.3125 Q1863.5625,1795.4063 1864.25,1796.4844 Q1864.9375,1797.5469 1866.2813,1797.5469 Q1866.9063,1797.5469 1867.5,1797.2813 Q1868.0938,1797 1868.7188,1796.4219 L1868.7188,1799.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="1886.25" y="1797.6543">Rulebook</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1756" x2="2042" y1="1809.5" y2="1809.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1763" y="1817.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="1775" y="1823.7104">List&lt;AServantHierarchy&gt; servantHierarchies</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1763" y="1830.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="1775" y="1836.5151">List&lt;AAffinityChart&gt; affinityCharts</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1763" y="1843.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="1775" y="1849.3198">List&lt;AMonsterHierarchy&gt; monsterHierarchies</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1756" x2="2042" y1="1855.9141" y2="1855.9141"/><!--MD5=[ae502c27f70242ed1e04d7ee725c894e]
class BattleSystem--><rect codeLine="212" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="150.4375" id="BattleSystem" style="stroke:#A80036;stroke-width:1.5;" width="400" x="1783" y="1064.5"/><ellipse cx="1937.75" cy="1080.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1940.7188,1086.1406 Q1940.1406,1086.4375 1939.5,1086.5781 Q1938.8594,1086.7344 1938.1563,1086.7344 Q1935.6563,1086.7344 1934.3281,1085.0938 Q1933.0156,1083.4375 1933.0156,1080.3125 Q1933.0156,1077.1875 1934.3281,1075.5313 Q1935.6563,1073.875 1938.1563,1073.875 Q1938.8594,1073.875 1939.5,1074.0313 Q1940.1563,1074.1875 1940.7188,1074.4844 L1940.7188,1077.2031 Q1940.0938,1076.625 1939.5,1076.3594 Q1938.9063,1076.0781 1938.2813,1076.0781 Q1936.9375,1076.0781 1936.25,1077.1563 Q1935.5625,1078.2188 1935.5625,1080.3125 Q1935.5625,1082.4063 1936.25,1083.4844 Q1936.9375,1084.5469 1938.2813,1084.5469 Q1938.9063,1084.5469 1939.5,1084.2813 Q1940.0938,1084 1940.7188,1083.4219 L1940.7188,1086.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="1958.25" y="1084.6543">BattleSystem</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1784" x2="2182" y1="1096.5" y2="1096.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1791" y="1104.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="1803" y="1110.7104">IRulebook rulebook</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1791" y="1117.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="1803" y="1123.5151">static ConcurrentQueue&lt;User&gt; userQueue</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1791" y="1130.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="1803" y="1136.3198">IArena _arena</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1791" y="1142.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1803" y="1149.1245">static object padlock</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1791" y="1155.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="245" x="1803" y="1161.9292">Task&lt;BattleSummary&gt; GetBattleSummary</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1791" y="1168.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1803" y="1174.7339">BattleSummary _battleSummary</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1784" x2="2182" y1="1181.3281" y2="1181.3281"/><ellipse cx="1794" cy="1192.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="313" x="1803" y="1195.5386">async Task&lt;BattleSummary&gt; DuelEnqueue(User user)</text><ellipse cx="1794" cy="1205.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="374" x="1803" y="1208.3433">async Task&lt;BattleSummary&gt; Duel(User attacker, User defender)</text><!--MD5=[9e3bcda3ec79a58e5c40fb90bc89a825]
class INpgsqlDataReader--><rect codeLine="239" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="INpgsqlDataReader" style="stroke:#A80036;stroke-width:1.5;" width="153" x="4794.5" y="1605.5"/><ellipse cx="4809.5" cy="1621.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4805.4219,1617.2656 L4805.4219,1615.1094 L4812.8125,1615.1094 L4812.8125,1617.2656 L4810.3438,1617.2656 L4810.3438,1625.3438 L4812.8125,1625.3438 L4812.8125,1627.5 L4805.4219,1627.5 L4805.4219,1625.3438 L4807.8906,1625.3438 L4807.8906,1617.2656 L4805.4219,1617.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="4823.5" y="1625.6543">INpgsqlDataReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4795.5" x2="4946.5" y1="1637.5" y2="1637.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4795.5" x2="4946.5" y1="1645.5" y2="1645.5"/><ellipse cx="4805.5" cy="1656.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="4814.5" y="1659.7104">bool Read()</text><ellipse cx="4805.5" cy="1669.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="4814.5" y="1672.5151">object GetValue(int i)</text><ellipse cx="4805.5" cy="1682.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="4814.5" y="1685.3198">int FieldCount()</text><!--MD5=[b4e1ecaa02aa3c18464b6a965cbe65c4]
class INpgsqlCommand--><rect codeLine="244" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="INpgsqlCommand" style="stroke:#A80036;stroke-width:1.5;" width="334" x="3974" y="1599"/><ellipse cx="4082.75" cy="1615" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4078.6719,1610.7656 L4078.6719,1608.6094 L4086.0625,1608.6094 L4086.0625,1610.7656 L4083.5938,1610.7656 L4083.5938,1618.8438 L4086.0625,1618.8438 L4086.0625,1621 L4078.6719,1621 L4078.6719,1618.8438 L4081.1406,1618.8438 L4081.1406,1610.7656 L4078.6719,1610.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="4103.25" y="1619.1543">INpgsqlCommand</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3975" x2="4307" y1="1631" y2="1631"/><ellipse cx="3985" cy="1642" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="3994" y="1645.2104">Npgsql.NpgsqlParameterCollection Parameters {get;}</text><ellipse cx="3985" cy="1654.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="3994" y="1658.0151">Npgsql.NpgsqlConnection Connection {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3975" x2="4307" y1="1664.6094" y2="1664.6094"/><ellipse cx="3985" cy="1675.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="3994" y="1678.8198">int ExecuteNonQuery()</text><ellipse cx="3985" cy="1688.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="3994" y="1691.6245">INpgsqlDataReader ExecuteReader()</text><!--MD5=[fedc300118e23d8c5a0b31a672642e9e]
class IMTCGDatabaseConnection--><rect codeLine="250" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.5;" width="406" x="4348" y="1459"/><ellipse cx="4462.25" cy="1475" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4458.1719,1470.7656 L4458.1719,1468.6094 L4465.5625,1468.6094 L4465.5625,1470.7656 L4463.0938,1470.7656 L4463.0938,1478.8438 L4465.5625,1478.8438 L4465.5625,1481 L4458.1719,1481 L4458.1719,1478.8438 L4460.6406,1478.8438 L4460.6406,1470.7656 L4458.1719,1470.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="169" x="4482.75" y="1479.1543">IMTCGDatabaseConnection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4349" x2="4753" y1="1491" y2="1491"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4349" x2="4753" y1="1499" y2="1499"/><ellipse cx="4359" cy="1510" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="329" x="4368" y="1513.2104">int ExecuteStatement(INpgsqlCommand npgsqlCommand)</text><ellipse cx="4359" cy="1522.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="4368" y="1526.0151">List&lt;object[]&gt; QueryDatabase(INpgsqlCommand npgsqlCommand)</text><!--MD5=[310417fb74cd2d4743f128e8cac82f54]
class MTCGDatabaseConnection--><rect codeLine="255" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="MTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.5;" width="417" x="4342.5" y="1605.5"/><ellipse cx="4463.75" cy="1621.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4466.7188,1627.1406 Q4466.1406,1627.4375 4465.5,1627.5781 Q4464.8594,1627.7344 4464.1563,1627.7344 Q4461.6563,1627.7344 4460.3281,1626.0938 Q4459.0156,1624.4375 4459.0156,1621.3125 Q4459.0156,1618.1875 4460.3281,1616.5313 Q4461.6563,1614.875 4464.1563,1614.875 Q4464.8594,1614.875 4465.5,1615.0313 Q4466.1563,1615.1875 4466.7188,1615.4844 L4466.7188,1618.2031 Q4466.0938,1617.625 4465.5,1617.3594 Q4464.9063,1617.0781 4464.2813,1617.0781 Q4462.9375,1617.0781 4462.25,1618.1563 Q4461.5625,1619.2188 4461.5625,1621.3125 Q4461.5625,1623.4063 4462.25,1624.4844 Q4462.9375,1625.5469 4464.2813,1625.5469 Q4464.9063,1625.5469 4465.5,1625.2813 Q4466.0938,1625 4466.7188,1624.4219 L4466.7188,1627.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="166" x="4484.25" y="1625.6543">MTCGDatabaseConnection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4343.5" x2="4758.5" y1="1637.5" y2="1637.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4350.5" y="1645.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="340" x="4362.5" y="1651.7104">static MTCGDatabaseConnection _mtcgDatabaseConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4350.5" y="1658.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="4362.5" y="1664.5151">NpgsqlConnection _npgsqlConnection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4343.5" x2="4758.5" y1="1671.1094" y2="1671.1094"/><ellipse cx="4353.5" cy="1682.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="391" x="4362.5" y="1685.3198">static MTCGDatabaseConnection ReturenMTCGDatabaseConnection()</text><!--MD5=[9e780ef8904480988e3ee72e7d2f60b2]
class NpgsqlDataReader--><rect codeLine="261" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="NpgsqlDataReader" style="stroke:#A80036;stroke-width:1.5;" width="395" x="4673.5" y="1783.5"/><ellipse cx="4807.75" cy="1799.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4810.7188,1805.1406 Q4810.1406,1805.4375 4809.5,1805.5781 Q4808.8594,1805.7344 4808.1563,1805.7344 Q4805.6563,1805.7344 4804.3281,1804.0938 Q4803.0156,1802.4375 4803.0156,1799.3125 Q4803.0156,1796.1875 4804.3281,1794.5313 Q4805.6563,1792.875 4808.1563,1792.875 Q4808.8594,1792.875 4809.5,1793.0313 Q4810.1563,1793.1875 4810.7188,1793.4844 L4810.7188,1796.2031 Q4810.0938,1795.625 4809.5,1795.3594 Q4808.9063,1795.0781 4808.2813,1795.0781 Q4806.9375,1795.0781 4806.25,1796.1563 Q4805.5625,1797.2188 4805.5625,1799.3125 Q4805.5625,1801.4063 4806.25,1802.4844 Q4806.9375,1803.5469 4808.2813,1803.5469 Q4808.9063,1803.5469 4809.5,1803.2813 Q4810.0938,1803 4810.7188,1802.4219 L4810.7188,1805.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="4828.25" y="1803.6543">NpgsqlDataReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4674.5" x2="5067.5" y1="1815.5" y2="1815.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4681.5" y="1823.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="4693.5" y="1829.7104">Npgsql.NpgsqlDataReader _npgsqlDataReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4674.5" x2="5067.5" y1="1836.3047" y2="1836.3047"/><ellipse cx="4684.5" cy="1847.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="369" x="4693.5" y="1850.5151">NpgsqlDataReader(Npgsql.NpgsqlDataReader npgsqlDataReader)</text><!--MD5=[b10858c240d7050aba53d7158dcca4e9]
class NpgsqlCommand--><rect codeLine="265" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="NpgsqlCommand" style="stroke:#A80036;stroke-width:1.5;" width="272" x="4005" y="1783.5"/><ellipse cx="4084.25" cy="1799.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4087.2188,1805.1406 Q4086.6406,1805.4375 4086,1805.5781 Q4085.3594,1805.7344 4084.6563,1805.7344 Q4082.1563,1805.7344 4080.8281,1804.0938 Q4079.5156,1802.4375 4079.5156,1799.3125 Q4079.5156,1796.1875 4080.8281,1794.5313 Q4082.1563,1792.875 4084.6563,1792.875 Q4085.3594,1792.875 4086,1793.0313 Q4086.6563,1793.1875 4087.2188,1793.4844 L4087.2188,1796.2031 Q4086.5938,1795.625 4086,1795.3594 Q4085.4063,1795.0781 4084.7813,1795.0781 Q4083.4375,1795.0781 4082.75,1796.1563 Q4082.0625,1797.2188 4082.0625,1799.3125 Q4082.0625,1801.4063 4082.75,1802.4844 Q4083.4375,1803.5469 4084.7813,1803.5469 Q4085.4063,1803.5469 4086,1803.2813 Q4086.5938,1803 4087.2188,1802.4219 L4087.2188,1805.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="4104.75" y="1803.6543">NpgsqlCommand</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4006" x2="4276" y1="1815.5" y2="1815.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4013" y="1823.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="246" x="4025" y="1829.7104">Npgsql.NpgsqlCommand _npgsqlCommand</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4006" x2="4276" y1="1836.3047" y2="1836.3047"/><ellipse cx="4016" cy="1847.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="4025" y="1850.5151">NpsqlCommand(string cmdText)</text><!--MD5=[dd2027f3e2c1d46712e1168397fcd2e2]
class IBattleHistoryRepository--><rect codeLine="270" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="IBattleHistoryRepository" style="stroke:#A80036;stroke-width:1.5;" width="398" x="2666" y="1096.5"/><ellipse cx="2785.75" cy="1112.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2781.6719,1108.2656 L2781.6719,1106.1094 L2789.0625,1106.1094 L2789.0625,1108.2656 L2786.5938,1108.2656 L2786.5938,1116.3438 L2789.0625,1116.3438 L2789.0625,1118.5 L2781.6719,1118.5 L2781.6719,1116.3438 L2784.1406,1116.3438 L2784.1406,1108.2656 L2781.6719,1108.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="150" x="2806.25" y="1116.6543">IBattleHistoryRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2667" x2="3063" y1="1128.5" y2="1128.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2667" x2="3063" y1="1136.5" y2="1136.5"/><ellipse cx="2677" cy="1147.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="372" x="2686" y="1150.7104">int Create(User user, EBattleResult battleResult, int pointChange)</text><ellipse cx="2677" cy="1160.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="2686" y="1163.5151">BattleHistory Read(int id, User user)</text><ellipse cx="2677" cy="1173.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="2686" y="1176.3198">List&lt;BattleHistory&gt; ReadAll(User user)</text><!--MD5=[e73fc0bdc08eb76bc494ad8984bde69f]
class ICardRepository--><rect codeLine="276" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="188.8516" id="ICardRepository" style="stroke:#A80036;stroke-width:1.5;" width="781" x="5180.5" y="1045"/><ellipse cx="5517.25" cy="1061" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5513.1719,1056.7656 L5513.1719,1054.6094 L5520.5625,1054.6094 L5520.5625,1056.7656 L5518.0938,1056.7656 L5518.0938,1064.8438 L5520.5625,1064.8438 L5520.5625,1067 L5513.1719,1067 L5513.1719,1064.8438 L5515.6406,1064.8438 L5515.6406,1056.7656 L5513.1719,1056.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="99" x="5537.75" y="1065.1543">ICardRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5181.5" x2="5960.5" y1="1077" y2="1077"/><line style="stroke:#A80036;stroke-width:1.5;" x1="5181.5" x2="5960.5" y1="1085" y2="1085"/><ellipse cx="5191.5" cy="1096" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="5200.5" y="1099.2104">List&lt;ACard&gt; LoadCardDeck(User user)</text><ellipse cx="5191.5" cy="1108.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="5200.5" y="1112.0151">List&lt;ACard&gt; LoadCardStack(User user)</text><ellipse cx="5191.5" cy="1121.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="233" x="5200.5" y="1124.8198">List&lt;ACard&gt; LoadPackage(int packageid)</text><ellipse cx="5191.5" cy="1134.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="750" x="5200.5" y="1137.6245">int CreateMonsterCard(string name, string description,double damage,EElementalType elementalType,EMonsterType monsterType)</text><ellipse cx="5191.5" cy="1147.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="569" x="5200.5" y="1150.4292">int CreateSpellCard(string name, string description,double damage,EElementalType elementalType)</text><ellipse cx="5191.5" cy="1160.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="621" x="5200.5" y="1163.2339">int CreateAreaCard(string name, string description,double damage,EElementalType elementalType, int uses)</text><ellipse cx="5191.5" cy="1172.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="755" x="5200.5" y="1176.0386">int CreateServantCard(string name, string description,double damage,EElementalType elementalType, EServantClass servantClass)</text><ellipse cx="5191.5" cy="1185.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="621" x="5200.5" y="1188.8433">int CreateTrapCard(string name, string description,double damage,EElementalType elementalType, int uses)</text><ellipse cx="5191.5" cy="1198.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="5200.5" y="1201.6479">int Delete(int id)</text><ellipse cx="5191.5" cy="1211.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="5200.5" y="1214.4526">ACard Read(int id)</text><ellipse cx="5191.5" cy="1224.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="5200.5" y="1227.2573">List&lt;ACard&gt; ReadAll()</text><!--MD5=[73d90912fcf120a8e7defc2f9af5def1]
class IPackageRepository--><rect codeLine="290" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="IPackageRepository" style="stroke:#A80036;stroke-width:1.5;" width="245" x="4900.5" y="1096.5"/><ellipse cx="4957.25" cy="1112.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4953.1719,1108.2656 L4953.1719,1106.1094 L4960.5625,1106.1094 L4960.5625,1108.2656 L4958.0938,1108.2656 L4958.0938,1116.3438 L4960.5625,1116.3438 L4960.5625,1118.5 L4953.1719,1118.5 L4953.1719,1116.3438 L4955.6406,1116.3438 L4955.6406,1108.2656 L4953.1719,1108.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="123" x="4977.75" y="1116.6543">IPackageRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4901.5" x2="5144.5" y1="1128.5" y2="1128.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4901.5" x2="5144.5" y1="1136.5" y2="1136.5"/><ellipse cx="4911.5" cy="1147.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="4920.5" y="1150.7104">int CreatePackage(List&lt;ACard&gt; cards)</text><ellipse cx="4911.5" cy="1160.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="4920.5" y="1163.5151">int OpenPackage(User user)</text><ellipse cx="4911.5" cy="1173.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="4920.5" y="1176.3198">int DeletePackage(int id)</text><!--MD5=[7623425820b5cf15abc4825d03861e8c]
class ISessionRepository--><rect codeLine="295" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="ISessionRepository" style="stroke:#A80036;stroke-width:1.5;" width="288" x="3913" y="1096.5"/><ellipse cx="3994.25" cy="1112.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3990.1719,1108.2656 L3990.1719,1106.1094 L3997.5625,1106.1094 L3997.5625,1108.2656 L3995.0938,1108.2656 L3995.0938,1116.3438 L3997.5625,1116.3438 L3997.5625,1118.5 L3990.1719,1118.5 L3990.1719,1116.3438 L3992.6406,1116.3438 L3992.6406,1108.2656 L3990.1719,1108.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="117" x="4014.75" y="1116.6543">ISessionRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3914" x2="4200" y1="1128.5" y2="1128.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="3914" x2="4200" y1="1136.5" y2="1136.5"/><ellipse cx="3924" cy="1147.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="3933" y="1150.7104">bool Login(string username, string password)</text><ellipse cx="3924" cy="1160.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="3933" y="1163.5151">bool CheckIfInValidSession(string username)</text><ellipse cx="3924" cy="1173.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="3933" y="1176.3198">bool Logout(string username)</text><!--MD5=[9a1beb2e2d6f0c577e7a206e53b8bab0]
class ITradingDealRepository--><rect codeLine="301" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="150.4375" id="ITradingDealRepository" style="stroke:#A80036;stroke-width:1.5;" width="629" x="5996.5" y="1064.5"/><ellipse cx="6234.25" cy="1080.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M6230.1719,1076.2656 L6230.1719,1074.1094 L6237.5625,1074.1094 L6237.5625,1076.2656 L6235.0938,1076.2656 L6235.0938,1084.3438 L6237.5625,1084.3438 L6237.5625,1086.5 L6230.1719,1086.5 L6230.1719,1084.3438 L6232.6406,1084.3438 L6232.6406,1076.2656 L6230.1719,1076.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="6254.75" y="1084.6543">ITradingDealRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5997.5" x2="6624.5" y1="1096.5" y2="1096.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="5997.5" x2="6624.5" y1="1104.5" y2="1104.5"/><ellipse cx="6007.5" cy="1115.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="6016.5" y="1118.7104">List&lt;TradingDeal&gt; ReadAll()</text><ellipse cx="6007.5" cy="1128.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="6016.5" y="1131.5151">TradingDeal Read(int id)</text><ellipse cx="6007.5" cy="1141.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="603" x="6016.5" y="1144.3198">int Create(ACard offeredCard, int requiredCoins, int minDamage, ECardType wantedCardType, User user)</text><ellipse cx="6007.5" cy="1153.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="6016.5" y="1157.1245">int Delete(int id, User user)</text><ellipse cx="6007.5" cy="1166.7188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="378" x="6016.5" y="1169.9292">int ConductTrade(TradingDeal tradingDeal, User user, ACard card)</text><ellipse cx="6007.5" cy="1179.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="307" x="6016.5" y="1182.7339">int ConductTrade(TradingDeal tradingDeal, User user)</text><ellipse cx="6007.5" cy="1192.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="6016.5" y="1195.5386">bool TradePossible(TradingDeal tradingDeal, User user, ACard card)</text><ellipse cx="6007.5" cy="1205.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="319" x="6016.5" y="1208.3433">bool TradePossible(TradingDeal tradingDeal, User user)</text><!--MD5=[22a889b802578031d2e420ffa83150b8]
class IUserRepository--><rect codeLine="312" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="150.4375" id="IUserRepository" style="stroke:#A80036;stroke-width:1.5;" width="629" x="4236.5" y="1064.5"/><ellipse cx="4497.75" cy="1080.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4493.6719,1076.2656 L4493.6719,1074.1094 L4501.0625,1074.1094 L4501.0625,1076.2656 L4498.5938,1076.2656 L4498.5938,1084.3438 L4501.0625,1084.3438 L4501.0625,1086.5 L4493.6719,1086.5 L4493.6719,1084.3438 L4496.1406,1084.3438 L4496.1406,1076.2656 L4493.6719,1076.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="4518.25" y="1084.6543">IUserRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4237.5" x2="4864.5" y1="1096.5" y2="1096.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4237.5" x2="4864.5" y1="1104.5" y2="1104.5"/><ellipse cx="4247.5" cy="1115.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="4256.5" y="1118.7104">List&lt;TradingDeal&gt; ReadAll()</text><ellipse cx="4247.5" cy="1128.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="4256.5" y="1131.5151">TradingDeal Read(int id)</text><ellipse cx="4247.5" cy="1141.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="603" x="4256.5" y="1144.3198">int Create(ACard offeredCard, int requiredCoins, int minDamage, ECardType wantedCardType, User user)</text><ellipse cx="4247.5" cy="1153.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="4256.5" y="1157.1245">int Delete(int id, User user)</text><ellipse cx="4247.5" cy="1166.7188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="378" x="4256.5" y="1169.9292">int ConductTrade(TradingDeal tradingDeal, User user, ACard card)</text><ellipse cx="4247.5" cy="1179.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="307" x="4256.5" y="1182.7339">int ConductTrade(TradingDeal tradingDeal, User user)</text><ellipse cx="4247.5" cy="1192.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="4256.5" y="1195.5386">bool TradePossible(TradingDeal tradingDeal, User user, ACard card)</text><ellipse cx="4247.5" cy="1205.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="319" x="4256.5" y="1208.3433">bool TradePossible(TradingDeal tradingDeal, User user)</text><!--MD5=[0a7d8090b3ed1374880ac2cfd3263416]
class IUserStatsRepository--><rect codeLine="323" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="IUserStatsRepository" style="stroke:#A80036;stroke-width:1.5;" width="180" x="3235" y="1096.5"/><ellipse cx="3258.1" cy="1112.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3254.0219,1108.2656 L3254.0219,1106.1094 L3261.4125,1106.1094 L3261.4125,1108.2656 L3258.9438,1108.2656 L3258.9438,1116.3438 L3261.4125,1116.3438 L3261.4125,1118.5 L3254.0219,1118.5 L3254.0219,1116.3438 L3256.4906,1116.3438 L3256.4906,1108.2656 L3254.0219,1108.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="130" x="3273.9" y="1116.6543">IUserStatsRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3236" x2="3414" y1="1128.5" y2="1128.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="3236" x2="3414" y1="1136.5" y2="1136.5"/><ellipse cx="3246" cy="1147.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="3255" y="1150.7104">List&lt;UserStats&gt; ReadAll()</text><ellipse cx="3246" cy="1160.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="3255" y="1163.5151">UserStats Read(User user)</text><ellipse cx="3246" cy="1173.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="3255" y="1176.3198">int Update(User user)</text><!--MD5=[093c210125347143eef5bb9199eae634]
class UserRepository--><rect codeLine="329" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="UserRepository" style="stroke:#A80036;stroke-width:1.5;" width="334" x="4384" y="1294"/><ellipse cx="4499.25" cy="1310" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4502.2188,1315.6406 Q4501.6406,1315.9375 4501,1316.0781 Q4500.3594,1316.2344 4499.6563,1316.2344 Q4497.1563,1316.2344 4495.8281,1314.5938 Q4494.5156,1312.9375 4494.5156,1309.8125 Q4494.5156,1306.6875 4495.8281,1305.0313 Q4497.1563,1303.375 4499.6563,1303.375 Q4500.3594,1303.375 4501,1303.5313 Q4501.6563,1303.6875 4502.2188,1303.9844 L4502.2188,1306.7031 Q4501.5938,1306.125 4501,1305.8594 Q4500.4063,1305.5781 4499.7813,1305.5781 Q4498.4375,1305.5781 4497.75,1306.6563 Q4497.0625,1307.7188 4497.0625,1309.8125 Q4497.0625,1311.9063 4497.75,1312.9844 Q4498.4375,1314.0469 4499.7813,1314.0469 Q4500.4063,1314.0469 4501,1313.7813 Q4501.5938,1313.5 4502.2188,1312.9219 L4502.2188,1315.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="4519.75" y="1314.1543">UserRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4385" x2="4717" y1="1326" y2="1326"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4392" y="1334"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="4404" y="1340.2104">IMTCGDatabaseConnection _mtcgDatabaseConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4392" y="1346.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="4404" y="1353.0151">ICardRepository _cardRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4385" x2="4717" y1="1359.6094" y2="1359.6094"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4392" y="1367.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="4404" y="1373.8198">User ConvertToUser(object[] row)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4392" y="1380.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="4404" y="1386.6245">bool CheckUniquenessOfUsername(string username)</text><!--MD5=[4ce411e516b1c945fb13442fc2bde404]
class UserStatsRepository--><rect codeLine="336" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="UserStatsRepository" style="stroke:#A80036;stroke-width:1.5;" width="334" x="3444" y="1294"/><ellipse cx="3542.75" cy="1310" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3545.7188,1315.6406 Q3545.1406,1315.9375 3544.5,1316.0781 Q3543.8594,1316.2344 3543.1563,1316.2344 Q3540.6563,1316.2344 3539.3281,1314.5938 Q3538.0156,1312.9375 3538.0156,1309.8125 Q3538.0156,1306.6875 3539.3281,1305.0313 Q3540.6563,1303.375 3543.1563,1303.375 Q3543.8594,1303.375 3544.5,1303.5313 Q3545.1563,1303.6875 3545.7188,1303.9844 L3545.7188,1306.7031 Q3545.0938,1306.125 3544.5,1305.8594 Q3543.9063,1305.5781 3543.2813,1305.5781 Q3541.9375,1305.5781 3541.25,1306.6563 Q3540.5625,1307.7188 3540.5625,1309.8125 Q3540.5625,1311.9063 3541.25,1312.9844 Q3541.9375,1314.0469 3543.2813,1314.0469 Q3543.9063,1314.0469 3544.5,1313.7813 Q3545.0938,1313.5 3545.7188,1312.9219 L3545.7188,1315.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="3563.25" y="1314.1543">UserStatsRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3445" x2="3777" y1="1326" y2="1326"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3452" y="1334"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="3464" y="1340.2104">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3452" y="1346.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="3464" y="1353.0151">IMTCGDatabaseConnection _mtcgDatabaseConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3452" y="1359.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="3464" y="1365.8198">static int points</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3445" x2="3777" y1="1372.4141" y2="1372.4141"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3452" y="1380.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="251" x="3464" y="1386.6245">UserStats ConvertToUserStats(object[] row)</text><!--MD5=[64c191f505b2bf5e4862b133667f9321]
class TradingDealRepository--><rect codeLine="343" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="TradingDealRepository" style="stroke:#A80036;stroke-width:1.5;" width="331" x="6046.5" y="1294"/><ellipse cx="6137.25" cy="1310" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M6140.2188,1315.6406 Q6139.6406,1315.9375 6139,1316.0781 Q6138.3594,1316.2344 6137.6563,1316.2344 Q6135.1563,1316.2344 6133.8281,1314.5938 Q6132.5156,1312.9375 6132.5156,1309.8125 Q6132.5156,1306.6875 6133.8281,1305.0313 Q6135.1563,1303.375 6137.6563,1303.375 Q6138.3594,1303.375 6139,1303.5313 Q6139.6563,1303.6875 6140.2188,1303.9844 L6140.2188,1306.7031 Q6139.5938,1306.125 6139,1305.8594 Q6138.4063,1305.5781 6137.7813,1305.5781 Q6136.4375,1305.5781 6135.75,1306.6563 Q6135.0625,1307.7188 6135.0625,1309.8125 Q6135.0625,1311.9063 6135.75,1312.9844 Q6136.4375,1314.0469 6137.7813,1314.0469 Q6138.4063,1314.0469 6139,1313.7813 Q6139.5938,1313.5 6140.2188,1312.9219 L6140.2188,1315.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="6157.75" y="1314.1543">TradingDealRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="6047.5" x2="6376.5" y1="1326" y2="1326"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6054.5" y="1334"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="305" x="6066.5" y="1340.2104">MTCGDatabaseConnection _mtcgDatabaseConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6054.5" y="1346.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="6066.5" y="1353.0151">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6054.5" y="1359.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="6066.5" y="1365.8198">ICardRepository _cardRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="6047.5" x2="6376.5" y1="1372.4141" y2="1372.4141"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6054.5" y="1380.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="6066.5" y="1386.6245">TradingDeal ConvertToTradingDeal(object[] row)</text><!--MD5=[2f2b2086a6f5745398ba729023710946]
class SessionRepository--><rect codeLine="350" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="SessionRepository" style="stroke:#A80036;stroke-width:1.5;" width="334" x="3953" y="1306.5"/><ellipse cx="4058.25" cy="1322.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4061.2188,1328.1406 Q4060.6406,1328.4375 4060,1328.5781 Q4059.3594,1328.7344 4058.6563,1328.7344 Q4056.1563,1328.7344 4054.8281,1327.0938 Q4053.5156,1325.4375 4053.5156,1322.3125 Q4053.5156,1319.1875 4054.8281,1317.5313 Q4056.1563,1315.875 4058.6563,1315.875 Q4059.3594,1315.875 4060,1316.0313 Q4060.6563,1316.1875 4061.2188,1316.4844 L4061.2188,1319.2031 Q4060.5938,1318.625 4060,1318.3594 Q4059.4063,1318.0781 4058.7813,1318.0781 Q4057.4375,1318.0781 4056.75,1319.1563 Q4056.0625,1320.2188 4056.0625,1322.3125 Q4056.0625,1324.4063 4056.75,1325.4844 Q4057.4375,1326.5469 4058.7813,1326.5469 Q4059.4063,1326.5469 4060,1326.2813 Q4060.5938,1326 4061.2188,1325.4219 L4061.2188,1328.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="4078.75" y="1326.6543">SessionRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3954" x2="4286" y1="1338.5" y2="1338.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3961" y="1346.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="3973" y="1352.7104">IMTCGDatabaseConnection _mtcgDatabaseConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3961" y="1359.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="3973" y="1365.5151">IUserRepository _userRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3954" x2="4286" y1="1372.1094" y2="1372.1094"/><!--MD5=[243e895b2ea7cca2c4a6a76eecb43c14]
class PackageRepository--><rect codeLine="355" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="PackageRepository" style="stroke:#A80036;stroke-width:1.5;" width="334" x="4775" y="1294"/><ellipse cx="4877.75" cy="1310" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4880.7188,1315.6406 Q4880.1406,1315.9375 4879.5,1316.0781 Q4878.8594,1316.2344 4878.1563,1316.2344 Q4875.6563,1316.2344 4874.3281,1314.5938 Q4873.0156,1312.9375 4873.0156,1309.8125 Q4873.0156,1306.6875 4874.3281,1305.0313 Q4875.6563,1303.375 4878.1563,1303.375 Q4878.8594,1303.375 4879.5,1303.5313 Q4880.1563,1303.6875 4880.7188,1303.9844 L4880.7188,1306.7031 Q4880.0938,1306.125 4879.5,1305.8594 Q4878.9063,1305.5781 4878.2813,1305.5781 Q4876.9375,1305.5781 4876.25,1306.6563 Q4875.5625,1307.7188 4875.5625,1309.8125 Q4875.5625,1311.9063 4876.25,1312.9844 Q4876.9375,1314.0469 4878.2813,1314.0469 Q4878.9063,1314.0469 4879.5,1313.7813 Q4880.0938,1313.5 4880.7188,1312.9219 L4880.7188,1315.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="4898.25" y="1314.1543">PackageRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4776" x2="5108" y1="1326" y2="1326"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4783" y="1334"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="4795" y="1340.2104">IMTCGDatabaseConnection _mtcgDatabaseConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4783" y="1346.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="4795" y="1353.0151">ICardRepository _cardRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4783" y="1359.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="4795" y="1365.8198">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4783" y="1372.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="4795" y="1378.6245">static int packageCosts</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4776" x2="5108" y1="1385.2188" y2="1385.2188"/><!--MD5=[ae44d734625e1c5464234d05e28d102f]
class CardRepository--><rect codeLine="362" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="CardRepository" style="stroke:#A80036;stroke-width:1.5;" width="725" x="5187.5" y="1300.5"/><ellipse cx="5498.25" cy="1316.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5501.2188,1322.1406 Q5500.6406,1322.4375 5500,1322.5781 Q5499.3594,1322.7344 5498.6563,1322.7344 Q5496.1563,1322.7344 5494.8281,1321.0938 Q5493.5156,1319.4375 5493.5156,1316.3125 Q5493.5156,1313.1875 5494.8281,1311.5313 Q5496.1563,1309.875 5498.6563,1309.875 Q5499.3594,1309.875 5500,1310.0313 Q5500.6563,1310.1875 5501.2188,1310.4844 L5501.2188,1313.2031 Q5500.5938,1312.625 5500,1312.3594 Q5499.4063,1312.0781 5498.7813,1312.0781 Q5497.4375,1312.0781 5496.75,1313.1563 Q5496.0625,1314.2188 5496.0625,1316.3125 Q5496.0625,1318.4063 5496.75,1319.4844 Q5497.4375,1320.5469 5498.7813,1320.5469 Q5499.4063,1320.5469 5500,1320.2813 Q5500.5938,1320 5501.2188,1319.4219 L5501.2188,1322.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="5518.75" y="1320.6543">CardRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5188.5" x2="5911.5" y1="1332.5" y2="1332.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5195.5" y="1340.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="305" x="5207.5" y="1346.7104">MTCGDatabaseConnection _mtcgDatabaseConnection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5188.5" x2="5911.5" y1="1353.3047" y2="1353.3047"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5195.5" y="1361.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="5207.5" y="1367.5151">ACard ConvertToCard(object[] row)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5195.5" y="1374.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="699" x="5207.5" y="1380.3198">int CreateBaseCard(string name, string description, double damage, EElementalType elementalType,ECardType cardType)</text><!--MD5=[cd13da2c70542bd3a21def183edff33e]
class BattleHistoryRepository--><rect codeLine="367" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="BattleHistoryRepository" style="stroke:#A80036;stroke-width:1.5;" width="374" x="2756" y="1300.5"/><ellipse cx="2865.75" cy="1316.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2868.7188,1322.1406 Q2868.1406,1322.4375 2867.5,1322.5781 Q2866.8594,1322.7344 2866.1563,1322.7344 Q2863.6563,1322.7344 2862.3281,1321.0938 Q2861.0156,1319.4375 2861.0156,1316.3125 Q2861.0156,1313.1875 2862.3281,1311.5313 Q2863.6563,1309.875 2866.1563,1309.875 Q2866.8594,1309.875 2867.5,1310.0313 Q2868.1563,1310.1875 2868.7188,1310.4844 L2868.7188,1313.2031 Q2868.0938,1312.625 2867.5,1312.3594 Q2866.9063,1312.0781 2866.2813,1312.0781 Q2864.9375,1312.0781 2864.25,1313.1563 Q2863.5625,1314.2188 2863.5625,1316.3125 Q2863.5625,1318.4063 2864.25,1319.4844 Q2864.9375,1320.5469 2866.2813,1320.5469 Q2866.9063,1320.5469 2867.5,1320.2813 Q2868.0938,1320 2868.7188,1319.4219 L2868.7188,1322.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="146" x="2886.25" y="1320.6543">BattleHistoryRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2757" x2="3129" y1="1332.5" y2="1332.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2764" y="1340.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="2776" y="1346.7104">IMTCGDatabaseConnection _mtcgDatabaseConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2764" y="1353.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="2776" y="1359.5151">IUserRepository _userRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2757" x2="3129" y1="1366.1094" y2="1366.1094"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2764" y="1374.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="348" x="2776" y="1380.3198">BattleHistory ConvertToBattleHistory(object[] row, User user)</text><!--MD5=[d621a1cf36efacd102423184f657d5e8]
class BaseHTTPServer--><rect codeLine="385" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="150.4375" id="BaseHTTPServer" style="stroke:#A80036;stroke-width:1.5;" width="368" x="2155" y="192"/><ellipse cx="2283.75" cy="208" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2286.7188,213.6406 Q2286.1406,213.9375 2285.5,214.0781 Q2284.8594,214.2344 2284.1563,214.2344 Q2281.6563,214.2344 2280.3281,212.5938 Q2279.0156,210.9375 2279.0156,207.8125 Q2279.0156,204.6875 2280.3281,203.0313 Q2281.6563,201.375 2284.1563,201.375 Q2284.8594,201.375 2285.5,201.5313 Q2286.1563,201.6875 2286.7188,201.9844 L2286.7188,204.7031 Q2286.0938,204.125 2285.5,203.8594 Q2284.9063,203.5781 2284.2813,203.5781 Q2282.9375,203.5781 2282.25,204.6563 Q2281.5625,205.7188 2281.5625,207.8125 Q2281.5625,209.9063 2282.25,210.9844 Q2282.9375,212.0469 2284.2813,212.0469 Q2284.9063,212.0469 2285.5,211.7813 Q2286.0938,211.5 2286.7188,210.9219 L2286.7188,213.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="2304.25" y="212.1543">BaseHTTPServer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2156" x2="2522" y1="224" y2="224"/><ellipse cx="2166" cy="235" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="2175" y="238.2104">const string VERSION</text><ellipse cx="2166" cy="247.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="2175" y="251.0151">const string NAME</text><ellipse cx="2166" cy="260.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="342" x="2175" y="263.8198">List&lt;IResourceEndpointHandler&gt; resourceEndpointHandlers</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2163" y="270.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="2175" y="276.6245">int port</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2163" y="283.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="2175" y="289.4292">bool running</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2163" y="296.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="2175" y="302.2339">ITcpListener listener</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2156" x2="2522" y1="308.8281" y2="308.8281"/><ellipse cx="2166" cy="319.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="2175" y="323.0386">BaseHTTPServer(int port)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2163" y="329.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="2175" y="335.8433">void Run()</text><!--MD5=[496b068da06cd131afb585115329e858]
class IHTTPServer--><rect codeLine="449" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="IHTTPServer" style="stroke:#A80036;stroke-width:1.5;" width="240" x="2219" y="32.5"/><ellipse cx="2297.75" cy="48.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2293.6719,44.2656 L2293.6719,42.1094 L2301.0625,42.1094 L2301.0625,44.2656 L2298.5938,44.2656 L2298.5938,52.3438 L2301.0625,52.3438 L2301.0625,54.5 L2293.6719,54.5 L2293.6719,52.3438 L2296.1406,52.3438 L2296.1406,44.2656 L2293.6719,44.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="2318.25" y="52.6543">IHTTPServer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2220" x2="2458" y1="64.5" y2="64.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2220" x2="2458" y1="72.5" y2="72.5"/><ellipse cx="2230" cy="83.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="2239" y="86.7104">void Start()</text><ellipse cx="2230" cy="96.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="2239" y="99.5151">void HandleClient(ITcpClient tcpClient)</text><!--MD5=[68efced5630f6877a792fbf4b1d46ff2]
class RequestContext--><rect codeLine="398" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="163.2422" id="RequestContext" style="stroke:#A80036;stroke-width:1.5;" width="357" x="1928.5" y="427.5"/><ellipse cx="2052.75" cy="443.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2055.7188,449.1406 Q2055.1406,449.4375 2054.5,449.5781 Q2053.8594,449.7344 2053.1563,449.7344 Q2050.6563,449.7344 2049.3281,448.0938 Q2048.0156,446.4375 2048.0156,443.3125 Q2048.0156,440.1875 2049.3281,438.5313 Q2050.6563,436.875 2053.1563,436.875 Q2053.8594,436.875 2054.5,437.0313 Q2055.1563,437.1875 2055.7188,437.4844 L2055.7188,440.2031 Q2055.0938,439.625 2054.5,439.3594 Q2053.9063,439.0781 2053.2813,439.0781 Q2051.9375,439.0781 2051.25,440.1563 Q2050.5625,441.2188 2050.5625,443.3125 Q2050.5625,445.4063 2051.25,446.4844 Q2051.9375,447.5469 2053.2813,447.5469 Q2053.9063,447.5469 2054.5,447.2813 Q2055.0938,447 2055.7188,446.4219 L2055.7188,449.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="2073.25" y="447.6543">RequestContext</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1929.5" x2="2284.5" y1="459.5" y2="459.5"/><ellipse cx="1939.5" cy="470.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="1948.5" y="473.7104">EHTTPVerbs Type {get;set;}</text><ellipse cx="1939.5" cy="483.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="1948.5" y="486.5151">String URL {get;set;}</text><ellipse cx="1939.5" cy="496.1094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="1948.5" y="499.3198">String HTTPVersion {get;set;}</text><ellipse cx="1939.5" cy="508.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="1948.5" y="512.1245">List&lt;HttpHeaderPair&gt; HeaderPairs {get;private set;}</text><ellipse cx="1939.5" cy="521.7188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="1948.5" y="524.9292">String Body {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1929.5" x2="2284.5" y1="531.5234" y2="531.5234"/><ellipse cx="1939.5" cy="542.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="1948.5" y="545.7339">void AddHeader(String headerLine)</text><ellipse cx="1939.5" cy="555.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="313" x="1948.5" y="558.5386">static RequestContext GetBaseRequest(String request)</text><ellipse cx="1939.5" cy="568.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1948.5" y="571.3433">override string ToString()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1936.5" y="577.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="1948.5" y="584.1479">RequestContext(String type, String url, String httpVersion)</text><!--MD5=[677561f5d4a6bdd391d5d93a52324b49]
class HttpHeaderPair--><rect codeLine="411" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="HttpHeaderPair" style="stroke:#A80036;stroke-width:1.5;" width="335" x="1807.5" y="676"/><ellipse cx="1922.25" cy="692" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1925.2188,697.6406 Q1924.6406,697.9375 1924,698.0781 Q1923.3594,698.2344 1922.6563,698.2344 Q1920.1563,698.2344 1918.8281,696.5938 Q1917.5156,694.9375 1917.5156,691.8125 Q1917.5156,688.6875 1918.8281,687.0313 Q1920.1563,685.375 1922.6563,685.375 Q1923.3594,685.375 1924,685.5313 Q1924.6563,685.6875 1925.2188,685.9844 L1925.2188,688.7031 Q1924.5938,688.125 1924,687.8594 Q1923.4063,687.5781 1922.7813,687.5781 Q1921.4375,687.5781 1920.75,688.6563 Q1920.0625,689.7188 1920.0625,691.8125 Q1920.0625,693.9063 1920.75,694.9844 Q1921.4375,696.0469 1922.7813,696.0469 Q1923.4063,696.0469 1924,695.7813 Q1924.5938,695.5 1925.2188,694.9219 L1925.2188,697.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="1942.75" y="696.1543">HttpHeaderPair</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1808.5" x2="2141.5" y1="708" y2="708"/><ellipse cx="1818.5" cy="719" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="1827.5" y="722.2104">String HeaderKey {get;set;}</text><ellipse cx="1818.5" cy="731.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="1827.5" y="735.0151">String HeaderValue {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1808.5" x2="2141.5" y1="741.6094" y2="741.6094"/><ellipse cx="1818.5" cy="752.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="309" x="1827.5" y="755.8198">HttpHeaderPair(String headerKey, String headerValue)</text><ellipse cx="1818.5" cy="765.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1827.5" y="768.6245">override string ToString()</text><!--MD5=[b937ea1e5ddaf966c75792a5554ec602]
class IResourceEndpointHandler--><rect codeLine="419" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="IResourceEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="402" x="3159" y="472"/><ellipse cx="3272.25" cy="488" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3268.1719,483.7656 L3268.1719,481.6094 L3275.5625,481.6094 L3275.5625,483.7656 L3273.0938,483.7656 L3273.0938,491.8438 L3275.5625,491.8438 L3275.5625,494 L3268.1719,494 L3268.1719,491.8438 L3270.6406,491.8438 L3270.6406,483.7656 L3268.1719,483.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="167" x="3292.75" y="492.1543">IResourceEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3160" x2="3560" y1="504" y2="504"/><line style="stroke:#A80036;stroke-width:1.5;" x1="3160" x2="3560" y1="512" y2="512"/><ellipse cx="3170" cy="523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="328" x="3179" y="526.2104">bool CheckResponsibility(RequestContext requestContext)</text><ellipse cx="3170" cy="535.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="376" x="3179" y="539.0151">ResponseContext HandleRequest(RequestContext requestContext)</text><!--MD5=[72658dde7d7c1527ffbf8d5904233397]
class RouteAction--><rect codeLine="424" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="RouteAction" style="stroke:#A80036;stroke-width:1.5;" width="660" x="319" y="217.5"/><ellipse cx="606.75" cy="233.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M609.7188,239.1406 Q609.1406,239.4375 608.5,239.5781 Q607.8594,239.7344 607.1563,239.7344 Q604.6563,239.7344 603.3281,238.0938 Q602.0156,236.4375 602.0156,233.3125 Q602.0156,230.1875 603.3281,228.5313 Q604.6563,226.875 607.1563,226.875 Q607.8594,226.875 608.5,227.0313 Q609.1563,227.1875 609.7188,227.4844 L609.7188,230.2031 Q609.0938,229.625 608.5,229.3594 Q607.9063,229.0781 607.2813,229.0781 Q605.9375,229.0781 605.25,230.1563 Q604.5625,231.2188 604.5625,233.3125 Q604.5625,235.4063 605.25,236.4844 Q605.9375,237.5469 607.2813,237.5469 Q607.9063,237.5469 608.5,237.2813 Q609.0938,237 609.7188,236.4219 L609.7188,239.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="627.25" y="237.6543">RouteAction</text><line style="stroke:#A80036;stroke-width:1.5;" x1="320" x2="978" y1="249.5" y2="249.5"/><ellipse cx="330" cy="260.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="339" y="263.7104">String PathRegex {get;set;}</text><ellipse cx="330" cy="273.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="365" x="339" y="276.5151">Func&lt;RequestContext, ResponseContext&gt; PathAction {get;set;}</text><ellipse cx="330" cy="286.1094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="339" y="289.3198">EHTTPVerbs RequestType {get;set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="320" x2="978" y1="295.9141" y2="295.9141"/><ellipse cx="330" cy="306.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="634" x="339" y="310.1245">RouteAction(Func&lt;RequestContext, ResponseContext&gt; pathAction, String pathRegex, EHTTPVerbs requestType)</text><!--MD5=[3a668eb3a1ab23e10f3209ae5591cdc8]
class ResponseContext--><rect codeLine="432" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="214.4609" id="ResponseContext" style="stroke:#A80036;stroke-width:1.5;" width="460" x="1433" y="402"/><ellipse cx="1603.75" cy="418" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1606.7188,423.6406 Q1606.1406,423.9375 1605.5,424.0781 Q1604.8594,424.2344 1604.1563,424.2344 Q1601.6563,424.2344 1600.3281,422.5938 Q1599.0156,420.9375 1599.0156,417.8125 Q1599.0156,414.6875 1600.3281,413.0313 Q1601.6563,411.375 1604.1563,411.375 Q1604.8594,411.375 1605.5,411.5313 Q1606.1563,411.6875 1606.7188,411.9844 L1606.7188,414.7031 Q1606.0938,414.125 1605.5,413.8594 Q1604.9063,413.5781 1604.2813,413.5781 Q1602.9375,413.5781 1602.25,414.6563 Q1601.5625,415.7188 1601.5625,417.8125 Q1601.5625,419.9063 1602.25,420.9844 Q1602.9375,422.0469 1604.2813,422.0469 Q1604.9063,422.0469 1605.5,421.7813 Q1606.0938,421.5 1606.7188,420.9219 L1606.7188,423.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="1624.25" y="422.1543">ResponseContext</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1434" x2="1892" y1="434" y2="434"/><ellipse cx="1444" cy="445" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="1453" y="448.2104">String HTTPVersion {get;set;}</text><ellipse cx="1444" cy="457.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="1453" y="461.0151">String StatusMessage {get;set}</text><ellipse cx="1444" cy="470.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1453" y="473.8198">int StatusCode {get;set}</text><ellipse cx="1444" cy="483.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="1453" y="486.6245">List&lt;HttpHeaderPair&gt; HeaderPairs {get;private set;}</text><ellipse cx="1444" cy="496.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="1453" y="499.4292">String Content {get;private set;}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1434" x2="1892" y1="506.0234" y2="506.0234"/><ellipse cx="1444" cy="517.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1453" y="520.2339">static ResponseContext OKResponse()</text><ellipse cx="1444" cy="529.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="1453" y="533.0386">static ResponseContext CreatedResponse()</text><ellipse cx="1444" cy="542.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="1453" y="545.8433">static ResponseContext NotFoundResponse()</text><ellipse cx="1444" cy="555.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="1453" y="558.6479">static ResponseContext BadRequestResponse()</text><ellipse cx="1444" cy="568.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="348" x="1453" y="571.4526">ResponseContext AddHeader(HttpHeaderPair httpHeaderPair)</text><ellipse cx="1444" cy="581.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="369" x="1453" y="584.2573">ResponseContext SetContent(String content, String contentType)</text><ellipse cx="1444" cy="593.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1453" y="597.062">override string ToString()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1441" y="603.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="434" x="1453" y="609.8667">ResponseContext(String httpVersion, String statusMessage, int statusCode)</text><!--MD5=[151f6a91d56d467d7e7faed9a9a07875]
class EHTTPVerbs--><rect codeLine="455" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="163.2422" id="EHTTPVerbs" style="stroke:#A80036;stroke-width:1.5;" width="107" x="13.5" y="427.5"/><ellipse cx="28.5" cy="443.5" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M32.6094,449.5 L24.8906,449.5 L24.8906,437.1094 L32.6094,437.1094 L32.6094,439.2656 L27.3438,439.2656 L27.3438,441.9375 L32.1094,441.9375 L32.1094,444.0938 L27.3438,444.0938 L27.3438,447.3438 L32.6094,447.3438 L32.6094,449.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="42.5" y="447.6543">EHTTPVerbs</text><line style="stroke:#A80036;stroke-width:1.5;" x1="14.5" x2="119.5" y1="459.5" y2="459.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="19.5" y="473.7104">GET,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="19.5" y="486.5151">HEAD,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="19.5" y="499.3198">POST,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="19.5" y="512.1245">DELETE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="19.5" y="524.9292">PUT,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="19.5" y="537.7339">CONNECT,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="19.5" y="550.5386">TRACE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="19.5" y="563.3433">PATCH,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="19.5" y="576.1479">OPTIONS</text><line style="stroke:#A80036;stroke-width:1.5;" x1="14.5" x2="119.5" y1="582.7422" y2="582.7422"/><!--MD5=[5b2cc669032a274a409f4b77bb3cce72]
class ITcpClient--><rect codeLine="467" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="ITcpClient" style="stroke:#A80036;stroke-width:1.5;" width="142" x="2270" y="688.5"/><ellipse cx="2307.05" cy="704.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2302.9719,700.2656 L2302.9719,698.1094 L2310.3625,698.1094 L2310.3625,700.2656 L2307.8938,700.2656 L2307.8938,708.3438 L2310.3625,708.3438 L2310.3625,710.5 L2302.9719,710.5 L2302.9719,708.3438 L2305.4406,708.3438 L2305.4406,700.2656 L2302.9719,700.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="2325.95" y="708.6543">ITcpClient</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2271" x2="2411" y1="720.5" y2="720.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2271" x2="2411" y1="728.5" y2="728.5"/><ellipse cx="2281" cy="739.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="2290" y="742.7104">Stream GetStream()</text><ellipse cx="2281" cy="752.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="2290" y="755.5151">void Close()</text><!--MD5=[fe50a4f6767356ff4dcdadb85ef8cbdd]
class IDisposable--><rect fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="48" id="IDisposable" style="stroke:#A80036;stroke-width:1.5;" width="103" x="2392.5" y="485"/><ellipse cx="2407.5" cy="501" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2403.4219,496.7656 L2403.4219,494.6094 L2410.8125,494.6094 L2410.8125,496.7656 L2408.3438,496.7656 L2408.3438,504.8438 L2410.8125,504.8438 L2410.8125,507 L2403.4219,507 L2403.4219,504.8438 L2405.8906,504.8438 L2405.8906,496.7656 L2403.4219,496.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="2421.5" y="505.1543">IDisposable</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2393.5" x2="2494.5" y1="517" y2="517"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2393.5" x2="2494.5" y1="525" y2="525"/><!--MD5=[ab92dad1282953637996e6d7105c4bd8]
class ITcpListener--><rect codeLine="472" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="ITcpListener" style="stroke:#A80036;stroke-width:1.5;" width="179" x="2530.5" y="466"/><ellipse cx="2577.75" cy="482" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2573.6719,477.7656 L2573.6719,475.6094 L2581.0625,475.6094 L2581.0625,477.7656 L2578.5938,477.7656 L2578.5938,485.8438 L2581.0625,485.8438 L2581.0625,488 L2573.6719,488 L2573.6719,485.8438 L2576.1406,485.8438 L2576.1406,477.7656 L2573.6719,477.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="2598.25" y="486.1543">ITcpListener</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2531.5" x2="2708.5" y1="498" y2="498"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2531.5" x2="2708.5" y1="506" y2="506"/><ellipse cx="2541.5" cy="517" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="2550.5" y="520.2104">void Start()</text><ellipse cx="2541.5" cy="529.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="2550.5" y="533.0151">void Stop()</text><ellipse cx="2541.5" cy="542.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="2550.5" y="545.8198">TcpClient AcceptTcpClient()</text><!--MD5=[8547e8cd29eb525428380b514614e50a]
class TcpClient--><rect codeLine="478" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="TcpClient" style="stroke:#A80036;stroke-width:1.5;" width="310" x="1441" y="867"/><ellipse cx="1563.25" cy="883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1566.2188,888.6406 Q1565.6406,888.9375 1565,889.0781 Q1564.3594,889.2344 1563.6563,889.2344 Q1561.1563,889.2344 1559.8281,887.5938 Q1558.5156,885.9375 1558.5156,882.8125 Q1558.5156,879.6875 1559.8281,878.0313 Q1561.1563,876.375 1563.6563,876.375 Q1564.3594,876.375 1565,876.5313 Q1565.6563,876.6875 1566.2188,876.9844 L1566.2188,879.7031 Q1565.5938,879.125 1565,878.8594 Q1564.4063,878.5781 1563.7813,878.5781 Q1562.4375,878.5781 1561.75,879.6563 Q1561.0625,880.7188 1561.0625,882.8125 Q1561.0625,884.9063 1561.75,885.9844 Q1562.4375,887.0469 1563.7813,887.0469 Q1564.4063,887.0469 1565,886.7813 Q1565.5938,886.5 1566.2188,885.9219 L1566.2188,888.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="1583.75" y="887.1543">TcpClient</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1442" x2="1750" y1="899" y2="899"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1449" y="907"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="1461" y="913.2104">readonly System.Net.Sockets.TcpClient _client</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1442" x2="1750" y1="919.8047" y2="919.8047"/><ellipse cx="1452" cy="930.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="1461" y="934.0151">TcpClient()</text><ellipse cx="1452" cy="943.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="1461" y="946.8198">TcpClient(System.Net.Sockets.TcpClient tcpClient)</text><!--MD5=[d5b88652b7ded3c60402ab0f54a4817f]
class TcpListener--><rect codeLine="484" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="TcpListener" style="stroke:#A80036;stroke-width:1.5;" width="341" x="2449.5" y="688.5"/><ellipse cx="2579.75" cy="704.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2582.7188,710.1406 Q2582.1406,710.4375 2581.5,710.5781 Q2580.8594,710.7344 2580.1563,710.7344 Q2577.6563,710.7344 2576.3281,709.0938 Q2575.0156,707.4375 2575.0156,704.3125 Q2575.0156,701.1875 2576.3281,699.5313 Q2577.6563,697.875 2580.1563,697.875 Q2580.8594,697.875 2581.5,698.0313 Q2582.1563,698.1875 2582.7188,698.4844 L2582.7188,701.2031 Q2582.0938,700.625 2581.5,700.3594 Q2580.9063,700.0781 2580.2813,700.0781 Q2578.9375,700.0781 2578.25,701.1563 Q2577.5625,702.2188 2577.5625,704.3125 Q2577.5625,706.4063 2578.25,707.4844 Q2578.9375,708.5469 2580.2813,708.5469 Q2580.9063,708.5469 2581.5,708.2813 Q2582.0938,708 2582.7188,707.4219 L2582.7188,710.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="2600.25" y="708.6543">TcpListener</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2450.5" x2="2789.5" y1="720.5" y2="720.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2457.5" y="728.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="315" x="2469.5" y="734.7104">readonly System.Net.Sockets.TcpListener _tcpListener;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2450.5" x2="2789.5" y1="741.3047" y2="741.3047"/><ellipse cx="2460.5" cy="752.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="2469.5" y="755.5151">TcpListener(IPAddress ipAddress, in port)</text><!--MD5=[0aee5df9ea022adfa330f2e49e8c24ff]
class AEndpointHandler--><rect codeLine="500" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="AEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="409" x="3570.5" y="682.5"/><ellipse cx="3714.25" cy="698.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3714.3594,693.8438 L3713.2031,698.9219 L3715.5313,698.9219 L3714.3594,693.8438 Z M3712.875,691.6094 L3715.8594,691.6094 L3719.2188,704 L3716.7656,704 L3716,700.9375 L3712.7188,700.9375 L3711.9688,704 L3709.5313,704 L3712.875,691.6094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="113" x="3734.75" y="702.6543">AEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3571.5" x2="3978.5" y1="714.5" y2="714.5"/><polygon fill="none" points="3581.5,720.5,3585.5,724.5,3581.5,728.5,3577.5,724.5" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="3590.5" y="728.7104">List&lt;RouteAction&gt; RouteActions</text><polygon fill="none" points="3581.5,733.3047,3585.5,737.3047,3581.5,741.3047,3577.5,737.3047" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="3590.5" y="741.5151">string urlBase</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3571.5" x2="3978.5" y1="748.1094" y2="748.1094"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3578.5" y="756.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="383" x="3590.5" y="762.3198">RouteAction DetermineRouteAction(RequestContext requestContext)</text><!--MD5=[065cc276000473967985414464801298]
class BattleEndpointHandler--><rect codeLine="506" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="124.8281" id="BattleEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="394" x="1786" y="847.5"/><ellipse cx="1907.75" cy="863.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1910.7188,869.1406 Q1910.1406,869.4375 1909.5,869.5781 Q1908.8594,869.7344 1908.1563,869.7344 Q1905.6563,869.7344 1904.3281,868.0938 Q1903.0156,866.4375 1903.0156,863.3125 Q1903.0156,860.1875 1904.3281,858.5313 Q1905.6563,856.875 1908.1563,856.875 Q1908.8594,856.875 1909.5,857.0313 Q1910.1563,857.1875 1910.7188,857.4844 L1910.7188,860.2031 Q1910.0938,859.625 1909.5,859.3594 Q1908.9063,859.0781 1908.2813,859.0781 Q1906.9375,859.0781 1906.25,860.1563 Q1905.5625,861.2188 1905.5625,863.3125 Q1905.5625,865.4063 1906.25,866.4844 Q1906.9375,867.5469 1908.2813,867.5469 Q1908.9063,867.5469 1909.5,867.2813 Q1910.0938,867 1910.7188,866.4219 L1910.7188,869.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="1928.25" y="867.6543">BattleEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1787" x2="2179" y1="879.5" y2="879.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1794" y="887.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="1806" y="893.7104">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1794" y="900.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="1806" y="906.5151">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1794" y="913.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="1806" y="919.3198">IBattleHistoryRepository _battleHistoryRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1794" y="925.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="246" x="1806" y="932.1245">IUserStatsRepository _userStatsRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1794" y="938.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="1806" y="944.9292">BattleSystem _battleSystem</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1787" x2="2179" y1="951.5234" y2="951.5234"/><ellipse cx="1797" cy="962.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="368" x="1806" y="965.7339">ResponseContext BattleHandler(RequestContext requestContext)</text><!--MD5=[aa066fc024ec942bf65a3584c50cbc27]
class CardsEndpointHandler--><rect codeLine="515" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="86.4141" id="CardsEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="402" x="4024" y="867"/><ellipse cx="4150.25" cy="883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4153.2188,888.6406 Q4152.6406,888.9375 4152,889.0781 Q4151.3594,889.2344 4150.6563,889.2344 Q4148.1563,889.2344 4146.8281,887.5938 Q4145.5156,885.9375 4145.5156,882.8125 Q4145.5156,879.6875 4146.8281,878.0313 Q4148.1563,876.375 4150.6563,876.375 Q4151.3594,876.375 4152,876.5313 Q4152.6563,876.6875 4153.2188,876.9844 L4153.2188,879.7031 Q4152.5938,879.125 4152,878.8594 Q4151.4063,878.5781 4150.7813,878.5781 Q4149.4375,878.5781 4148.75,879.6563 Q4148.0625,880.7188 4148.0625,882.8125 Q4148.0625,884.9063 4148.75,885.9844 Q4149.4375,887.0469 4150.7813,887.0469 Q4151.4063,887.0469 4152,886.7813 Q4152.5938,886.5 4153.2188,885.9219 L4153.2188,888.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="4170.75" y="887.1543">CardsEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4025" x2="4425" y1="899" y2="899"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4032" y="907"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="4044" y="913.2104">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4032" y="919.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="4044" y="926.0151">IUserRepository _userRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4025" x2="4425" y1="932.6094" y2="932.6094"/><ellipse cx="4035" cy="943.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="376" x="4044" y="946.8198">ResponseContext ReadAllHandler(RequestContext requestContext)</text><!--MD5=[436d479a9e24962e22c0962d3448a026]
class DeckEndpointHandler--><rect codeLine="521" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="112.0234" id="DeckEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="428" x="3561" y="854"/><ellipse cx="3702.75" cy="870" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3705.7188,875.6406 Q3705.1406,875.9375 3704.5,876.0781 Q3703.8594,876.2344 3703.1563,876.2344 Q3700.6563,876.2344 3699.3281,874.5938 Q3698.0156,872.9375 3698.0156,869.8125 Q3698.0156,866.6875 3699.3281,865.0313 Q3700.6563,863.375 3703.1563,863.375 Q3703.8594,863.375 3704.5,863.5313 Q3705.1563,863.6875 3705.7188,863.9844 L3705.7188,866.7031 Q3705.0938,866.125 3704.5,865.8594 Q3703.9063,865.5781 3703.2813,865.5781 Q3701.9375,865.5781 3701.25,866.6563 Q3700.5625,867.7188 3700.5625,869.8125 Q3700.5625,871.9063 3701.25,872.9844 Q3701.9375,874.0469 3703.2813,874.0469 Q3703.9063,874.0469 3704.5,873.7813 Q3705.0938,873.5 3705.7188,872.9219 L3705.7188,875.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="3723.25" y="874.1543">DeckEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3562" x2="3988" y1="886" y2="886"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3569" y="894"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="3581" y="900.2104">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3569" y="906.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="3581" y="913.0151">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3569" y="919.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="3581" y="925.8198">ICardRepository _cardRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3562" x2="3988" y1="932.4141" y2="932.4141"/><ellipse cx="3572" cy="943.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="376" x="3581" y="946.6245">ResponseContext ReadAllHandler(RequestContext requestContext)</text><ellipse cx="3572" cy="956.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="402" x="3581" y="959.4292">ResponseContext UpdateDeckHandler(RequestContext requestContext)</text><!--MD5=[cf89a532e4423029353e48e7a5d5caa5]
class PackageEndpointHandler--><rect codeLine="529" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="112.0234" id="PackageEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="399" x="5371.5" y="854"/><ellipse cx="5487.25" cy="870" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5490.2188,875.6406 Q5489.6406,875.9375 5489,876.0781 Q5488.3594,876.2344 5487.6563,876.2344 Q5485.1563,876.2344 5483.8281,874.5938 Q5482.5156,872.9375 5482.5156,869.8125 Q5482.5156,866.6875 5483.8281,865.0313 Q5485.1563,863.375 5487.6563,863.375 Q5488.3594,863.375 5489,863.5313 Q5489.6563,863.6875 5490.2188,863.9844 L5490.2188,866.7031 Q5489.5938,866.125 5489,865.8594 Q5488.4063,865.5781 5487.7813,865.5781 Q5486.4375,865.5781 5485.75,866.6563 Q5485.0625,867.7188 5485.0625,869.8125 Q5485.0625,871.9063 5485.75,872.9844 Q5486.4375,874.0469 5487.7813,874.0469 Q5488.4063,874.0469 5489,873.7813 Q5489.5938,873.5 5490.2188,872.9219 L5490.2188,875.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="159" x="5507.75" y="874.1543">PackageEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5372.5" x2="5769.5" y1="886" y2="886"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5379.5" y="894"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="5391.5" y="900.2104">ICardRepository _cardRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5379.5" y="906.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="5391.5" y="913.0151">IPackageRepository _packageRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5379.5" y="919.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="5391.5" y="925.8198">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5379.5" y="932.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="5391.5" y="938.6245">IUserRepository _userRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5372.5" x2="5769.5" y1="945.2188" y2="945.2188"/><ellipse cx="5382.5" cy="956.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="5391.5" y="959.4292">ResponseContext CreateHandler(RequestContext requestContext)</text><!--MD5=[8160edfc34078999e4101f2d884bbe6a]
class ScoreEndpointHandler--><rect codeLine="537" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="ScoreEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="402" x="3124" y="860.5"/><ellipse cx="3250.25" cy="876.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3253.2188,882.1406 Q3252.6406,882.4375 3252,882.5781 Q3251.3594,882.7344 3250.6563,882.7344 Q3248.1563,882.7344 3246.8281,881.0938 Q3245.5156,879.4375 3245.5156,876.3125 Q3245.5156,873.1875 3246.8281,871.5313 Q3248.1563,869.875 3250.6563,869.875 Q3251.3594,869.875 3252,870.0313 Q3252.6563,870.1875 3253.2188,870.4844 L3253.2188,873.2031 Q3252.5938,872.625 3252,872.3594 Q3251.4063,872.0781 3250.7813,872.0781 Q3249.4375,872.0781 3248.75,873.1563 Q3248.0625,874.2188 3248.0625,876.3125 Q3248.0625,878.4063 3248.75,879.4844 Q3249.4375,880.5469 3250.7813,880.5469 Q3251.4063,880.5469 3252,880.2813 Q3252.5938,880 3253.2188,879.4219 L3253.2188,882.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="3270.75" y="880.6543">ScoreEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3125" x2="3525" y1="892.5" y2="892.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3132" y="900.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="3144" y="906.7104">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3132" y="913.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="3144" y="919.5151">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3132" y="926.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="246" x="3144" y="932.3198">IUserStatsRepository _userStatsRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3125" x2="3525" y1="938.9141" y2="938.9141"/><ellipse cx="3135" cy="949.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="376" x="3144" y="953.1245">ResponseContext ReadAllHandler(RequestContext requestContext)</text><!--MD5=[2b1c823231e6b0df1bb78feda5325dad]
class SessionEndpointHandler--><rect codeLine="544" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="73.6094" id="SessionEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="391" x="2215.5" y="873"/><ellipse cx="2329.75" cy="889" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2332.7188,894.6406 Q2332.1406,894.9375 2331.5,895.0781 Q2330.8594,895.2344 2330.1563,895.2344 Q2327.6563,895.2344 2326.3281,893.5938 Q2325.0156,891.9375 2325.0156,888.8125 Q2325.0156,885.6875 2326.3281,884.0313 Q2327.6563,882.375 2330.1563,882.375 Q2330.8594,882.375 2331.5,882.5313 Q2332.1563,882.6875 2332.7188,882.9844 L2332.7188,885.7031 Q2332.0938,885.125 2331.5,884.8594 Q2330.9063,884.5781 2330.2813,884.5781 Q2328.9375,884.5781 2328.25,885.6563 Q2327.5625,886.7188 2327.5625,888.8125 Q2327.5625,890.9063 2328.25,891.9844 Q2328.9375,893.0469 2330.2813,893.0469 Q2330.9063,893.0469 2331.5,892.7813 Q2332.0938,892.5 2332.7188,891.9219 L2332.7188,894.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="2350.25" y="893.1543">SessionEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2216.5" x2="2605.5" y1="905" y2="905"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2223.5" y="913"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="2235.5" y="919.2104">ISessionRepository _sessionRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2216.5" x2="2605.5" y1="925.8047" y2="925.8047"/><ellipse cx="2226.5" cy="936.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="365" x="2235.5" y="940.0151">ResponseContext LoginHandler(RequestContext requestContext)</text><!--MD5=[f9d4432c9205a43346870782d65825ac]
class StatsEndpointHandler--><rect codeLine="549" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="StatsEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="447" x="2641.5" y="860.5"/><ellipse cx="2791.75" cy="876.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2794.7188,882.1406 Q2794.1406,882.4375 2793.5,882.5781 Q2792.8594,882.7344 2792.1563,882.7344 Q2789.6563,882.7344 2788.3281,881.0938 Q2787.0156,879.4375 2787.0156,876.3125 Q2787.0156,873.1875 2788.3281,871.5313 Q2789.6563,869.875 2792.1563,869.875 Q2792.8594,869.875 2793.5,870.0313 Q2794.1563,870.1875 2794.7188,870.4844 L2794.7188,873.2031 Q2794.0938,872.625 2793.5,872.3594 Q2792.9063,872.0781 2792.2813,872.0781 Q2790.9375,872.0781 2790.25,873.1563 Q2789.5625,874.2188 2789.5625,876.3125 Q2789.5625,878.4063 2790.25,879.4844 Q2790.9375,880.5469 2792.2813,880.5469 Q2792.9063,880.5469 2793.5,880.2813 Q2794.0938,880 2794.7188,879.4219 L2794.7188,882.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="2812.25" y="880.6543">StatsEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2642.5" x2="3087.5" y1="892.5" y2="892.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2649.5" y="900.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="2661.5" y="906.7104">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2649.5" y="913.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="2661.5" y="919.5151">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2649.5" y="926.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="2661.5" y="932.3198">IBattleHistoryRepository _battleHistoryRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2642.5" x2="3087.5" y1="938.9141" y2="938.9141"/><ellipse cx="2652.5" cy="949.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="421" x="2661.5" y="953.1245">ResponseContext ReadAllForUserHandler(RequestContext requestContext)</text><!--MD5=[2e2cf866756cce3aaf1d10f143ebcac5]
class TradingEndpointHandler--><rect codeLine="556" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="150.4375" id="TradingEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="402" x="5806" y="835"/><ellipse cx="5926.75" cy="851" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5929.7188,856.6406 Q5929.1406,856.9375 5928.5,857.0781 Q5927.8594,857.2344 5927.1563,857.2344 Q5924.6563,857.2344 5923.3281,855.5938 Q5922.0156,853.9375 5922.0156,850.8125 Q5922.0156,847.6875 5923.3281,846.0313 Q5924.6563,844.375 5927.1563,844.375 Q5927.8594,844.375 5928.5,844.5313 Q5929.1563,844.6875 5929.7188,844.9844 L5929.7188,847.7031 Q5929.0938,847.125 5928.5,846.8594 Q5927.9063,846.5781 5927.2813,846.5781 Q5925.9375,846.5781 5925.25,847.6563 Q5924.5625,848.7188 5924.5625,850.8125 Q5924.5625,852.9063 5925.25,853.9844 Q5925.9375,855.0469 5927.2813,855.0469 Q5927.9063,855.0469 5928.5,854.7813 Q5929.0938,854.5 5929.7188,853.9219 L5929.7188,856.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="5947.25" y="855.1543">TradingEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5807" x2="6207" y1="867" y2="867"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5814" y="875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="5826" y="881.2104">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5814" y="887.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="5826" y="894.0151">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5814" y="900.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="5826" y="906.8198">ICardRepository _cardRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5814" y="913.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="5826" y="919.6245">ITradingDealRepository _tradingDealRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5807" x2="6207" y1="926.2188" y2="926.2188"/><ellipse cx="5817" cy="937.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="5826" y="940.4292">ResponseContext CreateHandler(RequestContext requestContext)</text><ellipse cx="5817" cy="950.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="376" x="5826" y="953.2339">ResponseContext ReadAllHandler(RequestContext requestContext)</text><ellipse cx="5817" cy="962.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="371" x="5826" y="966.0386">ResponseContext DeleteHandler(RequestContext requestContext)</text><ellipse cx="5817" cy="975.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="368" x="5826" y="978.8433">ResponseContext TradeHandler(RequestContext requestContext)</text><!--MD5=[c562199092f9856c5c6b0f458bcb5aae]
class TransactionEndpointHandler--><rect codeLine="567" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="99.2188" id="TransactionEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="438" x="4898" y="860.5"/><ellipse cx="5023.25" cy="876.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5026.2188,882.1406 Q5025.6406,882.4375 5025,882.5781 Q5024.3594,882.7344 5023.6563,882.7344 Q5021.1563,882.7344 5019.8281,881.0938 Q5018.5156,879.4375 5018.5156,876.3125 Q5018.5156,873.1875 5019.8281,871.5313 Q5021.1563,869.875 5023.6563,869.875 Q5024.3594,869.875 5025,870.0313 Q5025.6563,870.1875 5026.2188,870.4844 L5026.2188,873.2031 Q5025.5938,872.625 5025,872.3594 Q5024.4063,872.0781 5023.7813,872.0781 Q5022.4375,872.0781 5021.75,873.1563 Q5021.0625,874.2188 5021.0625,876.3125 Q5021.0625,878.4063 5021.75,879.4844 Q5022.4375,880.5469 5023.7813,880.5469 Q5024.4063,880.5469 5025,880.2813 Q5025.5938,880 5026.2188,879.4219 L5026.2188,882.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="5043.75" y="880.6543">TransactionEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4899" x2="5335" y1="892.5" y2="892.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4906" y="900.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="4918" y="906.7104">IPackageRepository _packageRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4906" y="913.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="4918" y="919.5151">ISessionRepository _sessionRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4906" y="926.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="4918" y="932.3198">IUserRepository _userRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4899" x2="5335" y1="938.9141" y2="938.9141"/><ellipse cx="4909" cy="949.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="412" x="4918" y="953.1245">ResponseContext OpenPackageHandler(RequestContext requestContext)</text><!--MD5=[134aca87f6707bf5e78d9dcce3169d32]
class UserEndpointHandler--><rect codeLine="574" fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="112.0234" id="UserEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="401" x="4461.5" y="854"/><ellipse cx="4590.75" cy="870" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4593.7188,875.6406 Q4593.1406,875.9375 4592.5,876.0781 Q4591.8594,876.2344 4591.1563,876.2344 Q4588.6563,876.2344 4587.3281,874.5938 Q4586.0156,872.9375 4586.0156,869.8125 Q4586.0156,866.6875 4587.3281,865.0313 Q4588.6563,863.375 4591.1563,863.375 Q4591.8594,863.375 4592.5,863.5313 Q4593.1563,863.6875 4593.7188,863.9844 L4593.7188,866.7031 Q4593.0938,866.125 4592.5,865.8594 Q4591.9063,865.5781 4591.2813,865.5781 Q4589.9375,865.5781 4589.25,866.6563 Q4588.5625,867.7188 4588.5625,869.8125 Q4588.5625,871.9063 4589.25,872.9844 Q4589.9375,874.0469 4591.2813,874.0469 Q4591.9063,874.0469 4592.5,873.7813 Q4593.0938,873.5 4593.7188,872.9219 L4593.7188,875.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="134" x="4611.25" y="874.1543">UserEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4462.5" x2="4861.5" y1="886" y2="886"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4469.5" y="894"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="4481.5" y="900.2104">IUserRepository _userRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4469.5" y="906.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="4481.5" y="913.0151">ISessionRepository _sessionRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4462.5" x2="4861.5" y1="919.6094" y2="919.6094"/><ellipse cx="4472.5" cy="930.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="4481.5" y="933.8198">ResponseContext CreateHandler(RequestContext requestContext)</text><ellipse cx="4472.5" cy="943.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="4481.5" y="946.6245">ResponseContext ReadHandler(RequestContext requestContext)</text><ellipse cx="4472.5" cy="956.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="375" x="4481.5" y="959.4292">ResponseContext UpdateHandler(RequestContext requestContext)</text><!--MD5=[34c7340dfbffa60ab02150bdb5677c29]
class ICardsEndpointHandler--><rect fill="#FEFECE" filter="url(#f1brx3u6zotm3l)" height="48" id="ICardsEndpointHandler" style="stroke:#A80036;stroke-width:1.5;" width="176" x="3687" y="1115.5"/><ellipse cx="3702" cy="1131.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3704.9688,1137.1406 Q3704.3906,1137.4375 3703.75,1137.5781 Q3703.1094,1137.7344 3702.4063,1137.7344 Q3699.9063,1137.7344 3698.5781,1136.0938 Q3697.2656,1134.4375 3697.2656,1131.3125 Q3697.2656,1128.1875 3698.5781,1126.5313 Q3699.9063,1124.875 3702.4063,1124.875 Q3703.1094,1124.875 3703.75,1125.0313 Q3704.4063,1125.1875 3704.9688,1125.4844 L3704.9688,1128.2031 Q3704.3438,1127.625 3703.75,1127.3594 Q3703.1563,1127.0781 3702.5313,1127.0781 Q3701.1875,1127.0781 3700.5,1128.1563 Q3699.8125,1129.2188 3699.8125,1131.3125 Q3699.8125,1133.4063 3700.5,1134.4844 Q3701.1875,1135.5469 3702.5313,1135.5469 Q3703.1563,1135.5469 3703.75,1135.2813 Q3704.3438,1135 3704.9688,1134.4219 L3704.9688,1137.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="3716" y="1135.6543">ICardsEndpointHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3688" x2="3862" y1="1147.5" y2="1147.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="3688" x2="3862" y1="1155.5" y2="1155.5"/><!--MD5=[170a2ab3003f69925640a617cceaffd2]
reverse link ACard to AreaCard--><path d="M1113.25,563.06 C1031.56,593.23 929.83,633.42 842,676 C830.29,681.68 818.01,688.4 806.59,695 " fill="none" id="ACard-backto-AreaCard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1111.04,556.41,1132.22,556.09,1115.86,569.56,1111.04,556.41" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[77febbceb518ea768acae1395e1a514a]
reverse link ACard to MonsterCard--><path d="M1158.99,590.35 C1110.82,626.86 1056.79,667.81 1021.24,694.76 " fill="none" id="ACard-backto-MonsterCard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1154.9,584.67,1175.07,578.16,1163.36,595.82,1154.9,584.67" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b117dec175f6cf9ebbe0a009942f7daa]
reverse link ACard to ServantCard--><path d="M1265,598.51 C1265,632.84 1265,669.81 1265,694.76 " fill="none" id="ACard-backto-ServantCard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1258,598.16,1265,578.16,1272,598.16,1258,598.16" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[360d3a12e5f39015b5c6022070a15716]
reverse link ACard to SpellCard--><path d="M1344.33,592.6 C1381.9,631.73 1423.91,675.47 1448.87,701.46 " fill="none" id="ACard-backto-SpellCard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1339.27,597.44,1330.46,578.16,1349.36,587.74,1339.27,597.44" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6beffe007836efb313cef867d4902fea]
reverse link ACard to TrapCard--><path d="M1373.42,589.43 C1387.22,598.7 1401.3,607.77 1415,616 C1465.77,646.51 1481.96,647.71 1534,676 C1544.85,681.9 1556.36,688.44 1567.25,694.76 " fill="none" id="ACard-backto-TrapCard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1369.36,595.13,1356.79,578.07,1377.25,583.57,1369.36,595.13" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bf192f68e7762d45456afc56c58806a8]
reverse link User to ACard--><path codeLine="64" d="M1395.68,340.28 C1371.12,371.8 1342.47,408.58 1318.26,439.64 " fill="none" id="User-backto-ACard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1403.84,329.81,1396.9959,332.0811,1396.4599,339.2723,1403.3041,337.0012,1403.84,329.81" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b5aa626e0bcf01ba653da2eff05bd01b]
reverse link UserStats to User--><path codeLine="65" d="M1661.25,120.42 C1624.5,145.99 1579.42,177.35 1540.53,204.41 " fill="none" id="UserStats-backto-User" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1672.37,112.68,1665.1604,112.825,1662.5213,119.5359,1669.7309,119.3908,1672.37,112.68" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d7b70503249bb9e20c37570e952dd2bb]
reverse link TradingDeal to ACard--><path codeLine="66" d="M1226.87,145.33 C1235.55,227.95 1249.42,359.82 1257.82,439.72 " fill="none" id="TradingDeal-backto-ACard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1225.49,132.26,1222.1383,138.6448,1226.7428,144.1944,1230.0945,137.8096,1225.49,132.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[59121c8933a19f352c0ee901db053096]
reverse link TradingDeal to User--><path codeLine="67" d="M1302.54,140.59 C1327.38,161.44 1354.41,184.12 1378.57,204.38 " fill="none" id="TradingDeal-backto-User" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1292.4,132.09,1294.4243,139.0112,1301.5916,139.8046,1299.5673,132.8834,1292.4,132.09" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e1dbe7f77efe6a87f5b401c72345a71d]
reverse link Package to ACard--><path codeLine="68" d="M1142.89,315.2 C1165.37,350.68 1196.48,399.82 1221.68,439.6 " fill="none" id="Package-backto-ACard" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1135.92,304.19,1135.7508,311.3991,1142.3403,314.328,1142.5095,307.1189,1135.92,304.19" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3a7806d24fb400c810734e6c013d33a0]
reverse link BattleHistory to User--><path codeLine="69" d="M1467.74,132.22 C1465.03,155.23 1461.96,181.33 1459.25,204.33 " fill="none" id="BattleHistory-backto-User" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1469.29,119.08,1464.6178,124.5727,1467.891,130.9982,1472.5632,125.5054,1469.29,119.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0a64399658b2886cdf836dfd09913c90]
reverse link AMonsterHierarchy to SpecificElementalCardTypeCombination--><path codeLine="156" d="M2571.14,2142.59 C2585.61,2160.29 2599.73,2177.54 2611.44,2191.86 " fill="none" id="AMonsterHierarchy-backto-SpecificElementalCardTypeCombination" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="2562.59,2132.14,2563.2936,2139.3167,2570.1889,2141.4275,2569.4853,2134.2508,2562.59,2132.14" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[824b95a995761cb99240d99c1082190c]
reverse link AMonsterHierarchy to SpecificElementalMonsterCombination--><path codeLine="157" d="M2400.86,2142.59 C2386.39,2160.29 2372.27,2177.54 2360.56,2191.86 " fill="none" id="AMonsterHierarchy-backto-SpecificElementalMonsterCombination" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="2409.41,2132.14,2402.5147,2134.2508,2401.8111,2141.4275,2408.7064,2139.3167,2409.41,2132.14" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2f82587dd350770286c3f434671dea02]
reverse link IAreaBattleInfluencer to Area--><path d="M2416.02,1697.8 C2428.95,1727.49 2445.09,1764.56 2456.13,1789.94 " fill="none" id="IAreaBattleInfluencer-backto-Area" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2409.45,1700.24,2407.89,1679.11,2422.29,1694.66,2409.45,1700.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[16931f9f07c18d0ba71370738ea966b0]
reverse link ITrapBattleInfluencer to Trap--><path d="M2828,1699.51 C2828,1728.9 2828,1765.05 2828,1789.94 " fill="none" id="ITrapBattleInfluencer-backto-Trap" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2821,1699.11,2828,1679.11,2835,1699.11,2821,1699.11" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e299e85327b1ce3f15978045b4d0daa8]
reverse link IArena to Arena--><path d="M2395,1394.28 C2395,1413.23 2395,1434.62 2395,1452.79 " fill="none" id="IArena-backto-Arena" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2388,1394.23,2395,1374.23,2402,1394.23,2388,1394.23" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[700ee05c1524999bfd634fc1df095171]
reverse link IRulebook to Rulebook--><path d="M1916.72,1699.02 C1913.06,1723.91 1908.67,1753.74 1905.18,1777.49 " fill="none" id="IRulebook-backto-Rulebook" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1909.81,1697.88,1919.65,1679.11,1923.66,1699.92,1909.81,1697.88" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2434c612fa0752ac3d70ae05b24751ba]
reverse link Rulebook to AServantHierarchy--><path codeLine="225" d="M1899,1876.86 C1899,1911.23 1899,1954.99 1899,1987.99 " fill="none" id="Rulebook-backto-AServantHierarchy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1899,1863.72,1895,1869.72,1899,1875.72,1903,1869.72,1899,1863.72" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[358bac3a0c8fdbf20db65140a839b2a7]
reverse link Rulebook to AAffinityChart--><path codeLine="226" d="M1788.73,1868.82 C1706.38,1904.16 1594.21,1952.3 1511.17,1987.93 " fill="none" id="Rulebook-backto-AAffinityChart" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1800.91,1863.59,1793.8185,1862.2821,1789.8837,1868.325,1796.9752,1869.6329,1800.91,1863.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8f04ae9f8de065d1243df2bd46582668]
reverse link Rulebook to AMonsterHierarchy--><path codeLine="227" d="M2021.38,1868.2 C2034.74,1873.23 2048.15,1878.24 2061,1883 C2113.88,1902.58 2170.56,1923.27 2224.75,1942.9 " fill="none" id="Rulebook-backto-AMonsterHierarchy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2009.15,1863.59,2013.3522,1869.4502,2020.3778,1867.8252,2016.1756,1861.965,2009.15,1863.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[573f1c2f14a69ed62baa6662146e7079]
reverse link Arena to ITrapBattleInfluencer--><path codeLine="228" d="M2523.62,1541.71 C2594.47,1566.33 2680.43,1596.21 2742.9,1617.92 " fill="none" id="Arena-backto-ITrapBattleInfluencer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="2511.04,1537.33,2515.3937,1543.0785,2522.3745,1541.2707,2518.0208,1535.5222,2511.04,1537.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2a4db01de76832a23195e1b997d906dc]
reverse link Arena to IAreaBattleInfluencer--><path codeLine="229" d="M2395,1552.38 C2395,1574.56 2395,1599.23 2395,1617.88 " fill="none" id="Arena-backto-IAreaBattleInfluencer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="2395,1539.32,2391,1545.32,2395,1551.32,2399,1545.32,2395,1539.32" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d8a7583ad69b314b0b03a6a8e4b33c6c]
reverse link BattleSystem to IArena--><path codeLine="230" d="M2145.96,1220.4 C2212.35,1252.95 2284.99,1288.56 2334.59,1312.88 " fill="none" id="BattleSystem-backto-IArena" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2134.07,1214.57,2137.6938,1220.8044,2144.8424,1219.8573,2141.2186,1213.6229,2134.07,1214.57" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[22aa79125284e0234e89810422f21b96]
reverse link BattleSystem to IRulebook--><path codeLine="231" d="M1875.92,1224.34 C1856.81,1244.89 1839.62,1268.42 1829,1294 C1781.12,1409.33 1862.71,1555.88 1903.23,1617.78 " fill="none" id="BattleSystem-backto-IRulebook" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1885.13,1214.8,1878.0841,1216.3348,1876.7909,1223.429,1883.8368,1221.8942,1885.13,1214.8" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7637b535f483a18167b55d4320698f8a]
link BattleSystem to BattleSummary--><path codeLine="232" d="M1983,1214.57 C1983,1241.03 1983,1270.15 1983,1293.92 " fill="none" id="BattleSystem-BattleSummary" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7e4c8f6c52d218a286d42478005e990d]
link Arena to IRulebook--><path codeLine="233" d="M2278.88,1534.11 C2197.97,1559.96 2091.52,1593.97 2016.38,1617.98 " fill="none" id="Arena-IRulebook" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[43da3d58b47b43cbc71d40bc2f3525ca]
link IRulebook to BattleResult--><path codeLine="234" d="M1970.51,1679.11 C2004.57,1700.8 2052.02,1731.01 2094.18,1757.86 " fill="none" id="IRulebook-BattleResult" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6abec649b038995057609704c8b5bb05]
link IArena to BattleResult--><path codeLine="235" d="M2345.63,1374.2 C2317.31,1393.49 2283.1,1420.97 2261,1453 C2197.36,1545.25 2187.77,1680.19 2188.23,1757.99 " fill="none" id="IArena-BattleResult" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c4e2ffdf97e78c4e8ddedf5f767944c6]
link ITrapBattleInfluencer to BattleResult--><path codeLine="236" d="M2681.65,1679.03 C2544.33,1707.02 2355.08,1746.47 2321,1758 C2315.32,1759.92 2309.57,1762.02 2303.8,1764.25 " fill="none" id="ITrapBattleInfluencer-BattleResult" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f771db5cb7eb6b5dc8441afed02b8e7d]
link IAreaBattleInfluencer to BattleResult--><path codeLine="237" d="M2359.47,1679.11 C2333.44,1700.8 2297.18,1731.01 2264.97,1757.86 " fill="none" id="IAreaBattleInfluencer-BattleResult" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f2e14105a4704fc695c3d55edd07fd51]
reverse link IMTCGDatabaseConnection to MTCGDatabaseConnection--><path d="M4551,1553.15 C4551,1570.44 4551,1589.16 4551,1605.34 " fill="none" id="IMTCGDatabaseConnection-backto-MTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4544,1553.05,4551,1533.05,4558,1553.05,4544,1553.05" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ae68a5d680472652fcd1057c590e4aca]
reverse link INpgsqlDataReader to NpgsqlDataReader--><path d="M4871,1711.81 C4871,1735.91 4871,1762.63 4871,1783.43 " fill="none" id="INpgsqlDataReader-backto-NpgsqlDataReader" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4864,1711.52,4871,1691.52,4878,1711.52,4864,1711.52" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[23dc4a3c307dc01b8e8775a0dbcee9c0]
reverse link INpgsqlCommand to NpgsqlCommand--><path d="M4141,1718.48 C4141,1740.77 4141,1764.58 4141,1783.48 " fill="none" id="INpgsqlCommand-backto-NpgsqlCommand" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4134,1718.22,4141,1698.22,4148,1718.22,4134,1718.22" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fa8aab384bdc143b832b1a8b6ae4550d]
reverse link IUserRepository to UserRepository--><path d="M4551,1234.79 C4551,1255.26 4551,1276.09 4551,1293.92 " fill="none" id="IUserRepository-backto-UserRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4544,1234.57,4551,1214.57,4558,1234.57,4544,1234.57" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[79f93c89382314fb74f4890927a8a8b7]
reverse link IUserStatsRepository to UserStatsRepository--><path d="M3401.13,1194.27 C3444.97,1225.23 3499.62,1263.84 3542.17,1293.88 " fill="none" id="IUserStatsRepository-backto-UserStatsRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3396.9,1199.86,3384.61,1182.6,3404.98,1188.42,3396.9,1199.86" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4aba39f05d24405b6d74d5d9c1392b09]
reverse link ITradingDealRepository to TradingDealRepository--><path d="M6265.89,1232.55 C6255.5,1253.73 6244.86,1275.44 6235.81,1293.92 " fill="none" id="ITradingDealRepository-backto-TradingDealRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="6259.61,1229.45,6274.7,1214.57,6272.18,1235.61,6259.61,1229.45" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2b772f7fde4cd364102525d5507c6727]
reverse link ISessionRepository to SessionRepository--><path d="M4076.17,1201.96 C4086.81,1236.07 4099.68,1277.33 4108.71,1306.3 " fill="none" id="ISessionRepository-backto-SessionRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4069.48,1204.02,4070.21,1182.85,4082.84,1199.85,4069.48,1204.02" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1ada7b318f9c7895f7e7a46683d8a2d2]
reverse link IPackageRepository to PackageRepository--><path d="M4998.42,1201.79 C4986.59,1231.29 4972.61,1266.17 4961.52,1293.82 " fill="none" id="IPackageRepository-backto-PackageRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4992.08,1198.8,5006.02,1182.85,5005.07,1204.01,4992.08,1198.8" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1b79873fa5acd4fed12577d5f27ff256]
reverse link ICardRepository to CardRepository--><path d="M5559.17,1254.26 C5557.47,1270.69 5555.81,1286.66 5554.38,1300.4 " fill="none" id="ICardRepository-backto-CardRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5552.24,1253.28,5561.27,1234.11,5566.16,1254.73,5552.24,1253.28" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3da793c442be56e074e9cb58c42ea74a]
reverse link IBattleHistoryRepository to BattleHistoryRepository--><path d="M2888.64,1201.72 C2900.93,1233.56 2915.65,1271.67 2926.67,1300.21 " fill="none" id="IBattleHistoryRepository-backto-BattleHistoryRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2882.03,1204.02,2881.35,1182.85,2895.09,1198.98,2882.03,1204.02" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[05c3fac404df4ec0d1d9731bf6d09999]
reverse link BattleHistoryRepository to IMTCGDatabaseConnection--><path codeLine="373" d="M3143.29,1365 C3230.44,1373.8 3333.75,1384.1 3427,1393 C3748.84,1423.73 4122.74,1457.22 4347.89,1477.15 " fill="none" id="BattleHistoryRepository-backto-IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3130.28,1363.68,3135.8497,1368.2602,3142.2198,1364.8806,3136.6501,1360.3004,3130.28,1363.68" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1ec0d71e40caa868523cea6884fbdb57]
reverse link CardRepository to IMTCGDatabaseConnection--><path codeLine="374" d="M5258,1388.49 C5096.26,1412.86 4899.21,1442.54 4754.27,1464.38 " fill="none" id="CardRepository-backto-IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5271.06,1386.52,5264.533,1383.4543,5259.1928,1388.3001,5265.7197,1391.3658,5271.06,1386.52" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9afec5f871aae2acc39d5f08ce8cf978]
reverse link PackageRepository to IMTCGDatabaseConnection--><path codeLine="375" d="M4803.66,1397.75 C4750.95,1418.04 4692.16,1440.67 4644.56,1458.99 " fill="none" id="PackageRepository-backto-IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4815.86,1393.05,4808.8239,1391.471,4804.6602,1397.3586,4811.6963,1398.9376,4815.86,1393.05" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2ced4d65bc7eb6d67eabb10d0a396582]
reverse link SessionRepository to IMTCGDatabaseConnection--><path codeLine="376" d="M4235.8,1384.94 C4301.88,1408.01 4384.01,1436.69 4447.86,1458.99 " fill="none" id="SessionRepository-backto-IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4223.24,1380.55,4227.5856,1386.3046,4234.569,1384.5066,4230.2233,1378.752,4223.24,1380.55" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2ad2a0c38361e8f6eca60687500442df]
reverse link TradingDealRepository to IMTCGDatabaseConnection--><path codeLine="377" d="M6033.12,1377.94 C5998.97,1383.56 5963.45,1388.9 5930,1393 C5513.76,1444.07 5023.47,1472.93 4754.01,1486.12 " fill="none" id="TradingDealRepository-backto-IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="6046.13,1375.77,6039.5556,1372.8073,6034.2922,1377.7364,6040.8666,1380.6991,6046.13,1375.77" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ae3fd3f9235ecf3ff819399231962644]
reverse link UserRepository to IMTCGDatabaseConnection--><path codeLine="378" d="M4551,1406.4 C4551,1424.22 4551,1443.07 4551,1458.78 " fill="none" id="UserRepository-backto-IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4551,1393.36,4547,1399.36,4551,1405.36,4555,1399.36,4551,1393.36" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1b74a1c09ba804948df693d01c46fe98]
reverse link UserStatsRepository to IMTCGDatabaseConnection--><path codeLine="379" d="M3791.48,1373.4 C3950.55,1398.86 4182.08,1435.93 4347.65,1462.44 " fill="none" id="UserStatsRepository-backto-IMTCGDatabaseConnection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3778.24,1371.28,3783.531,1376.1795,3790.0886,1373.18,3784.7976,1368.2805,3778.24,1371.28" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0a7ff3bc6cd510d533335fb50a5ca69c]
link IMTCGDatabaseConnection to INpgsqlCommand--><path codeLine="381" d="M4452.79,1533.05 C4399.02,1552.79 4331.64,1577.52 4273.29,1598.94 " fill="none" id="IMTCGDatabaseConnection-INpgsqlCommand" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4fead5bcec91ab8d95b3a896e4f0d7f3]
link IMTCGDatabaseConnection to INpgsqlDataReader--><path codeLine="382" d="M4633.6,1533.04 C4676.61,1552.11 4729.91,1576.24 4777,1599 C4782.7,1601.76 4788.58,1604.65 4794.47,1607.6 " fill="none" id="IMTCGDatabaseConnection-INpgsqlDataReader" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4547ca20b6e363e1d9c20ec634317bbc]
reverse link IHTTPServer to BaseHTTPServer--><path d="M2339,127.03 C2339,147.24 2339,170.34 2339,191.82 " fill="none" id="IHTTPServer-backto-BaseHTTPServer" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2332,126.81,2339,106.81,2346,126.81,2332,126.81" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a0db83484e7ae58c08a19deda9b44169]
reverse link IDisposable to ITcpClient--><path d="M2424.01,551.62 C2404.94,591.33 2376.51,650.54 2358.37,688.33 " fill="none" id="IDisposable-backto-ITcpClient" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="2417.81,548.36,2432.78,533.36,2430.43,554.42,2417.81,548.36" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[265fc702f00f66c025f74a1cba707235]
reverse link ITcpClient to TcpClient--><path d="M2250.35,752.88 C2221.62,760.68 2189.62,768.78 2160,775 C1987.51,811.2 1937.43,786.45 1768,835 C1739.25,843.24 1708.95,855.11 1681.93,866.95 " fill="none" id="ITcpClient-backto-TcpClient" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2248.51,746.13,2269.65,747.56,2252.23,759.63,2248.51,746.13" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1fb71f3c81f231f56c66734d6cd5a268]
reverse link ITcpListener to TcpListener--><path d="M2620,572.22 C2620,609.84 2620,656.5 2620,688.18 " fill="none" id="ITcpListener-backto-TcpListener" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2613,572.12,2620,552.12,2627,572.12,2613,572.12" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[04f741812c7d3cb5e15f7a8510103012]
reverse link BaseHTTPServer to IResourceEndpointHandler--><path codeLine="490" d="M2535.75,314.25 C2731.46,360.25 3027.66,429.88 3206.6,471.94 " fill="none" id="BaseHTTPServer-backto-IResourceEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="2523.01,311.25,2527.9314,316.5207,2534.6894,314.0051,2529.7681,308.7344,2523.01,311.25" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6d7392f12eafbe2260d97222f7c6417c]
reverse link RequestContext to HttpHeaderPair--><path codeLine="491" d="M2050.4,601.97 C2034.77,627.38 2018.42,653.95 2004.95,675.83 " fill="none" id="RequestContext-backto-HttpHeaderPair" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="2057.28,590.79,2050.7286,593.8031,2050.9901,601.0094,2057.5415,597.9964,2057.28,590.79" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f7bb47bd0dfed0e9160ea7de26f6a2b1]
reverse link ResponseContext to HttpHeaderPair--><path codeLine="492" d="M1828.65,623.88 C1855.27,642.18 1881.51,660.23 1904.26,675.87 " fill="none" id="ResponseContext-backto-HttpHeaderPair" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1817.63,616.31,1820.3059,623.0062,1827.5162,623.1117,1824.8403,616.4155,1817.63,616.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[308493852bc8eb0685eb82f6385cc45e]
link BaseHTTPServer to ITcpClient--><path codeLine="493" d="M2339.32,342.11 C2339.75,439.13 2340.48,605.92 2340.82,683.1 " fill="none" id="BaseHTTPServer-to-ITcpClient" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="2340.84,688.5,2344.7885,679.4773,2340.8114,683.5001,2336.7886,679.523,2340.84,688.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[28784087bc38b4ad3f126e8a8117a7c2]
reverse link BaseHTTPServer to ITcpListener--><path codeLine="494" d="M2450.02,350.19 C2471.31,366.87 2493.14,384.64 2513,402 C2536.03,422.14 2560.36,446.01 2579.99,466 " fill="none" id="BaseHTTPServer-backto-ITcpListener" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="2439.63,342.1,2441.9071,348.9422,2449.0987,349.4719,2446.8216,342.6297,2439.63,342.1" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[94e995d5958880c12b0cd18c0614f04d]
link ITcpListener to ITcpClient--><path codeLine="495" d="M2581.55,552.2 C2561.98,572.57 2537.25,596.72 2513,616 C2480.73,641.65 2442.12,666.48 2409.66,685.89 " fill="none" id="ITcpListener-to-ITcpClient" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="2405.33,688.47,2415.11,687.3078,2409.6275,685.9143,2411.021,680.4318,2405.33,688.47" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[669637cb8686d9e864dbf2021ccd5490]
link BaseHTTPServer to RequestContext--><path codeLine="497" d="M2267.18,342.29 C2241.1,369.28 2211.51,399.88 2184.93,427.39 " fill="none" id="BaseHTTPServer-RequestContext" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1c156c55bf6f9c17413dd258e4cf5ac2]
link BaseHTTPServer to ResponseContext--><path codeLine="498" d="M2154.88,321.21 C2078.8,344.34 1990.07,372.81 1911,402 C1905.07,404.19 1899.08,406.44 1893.04,408.75 " fill="none" id="BaseHTTPServer-ResponseContext" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[16711f029ef0790befa1366ebeeba2f0]
reverse link IResourceEndpointHandler to AEndpointHandler--><path d="M3447.73,555.34 C3520.41,592.91 3622.9,645.89 3693.74,682.5 " fill="none" id="IResourceEndpointHandler-backto-AEndpointHandler" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3444.48,561.55,3429.93,546.14,3450.91,549.11,3444.48,561.55" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ca1da5065b23d27f3ef973d330706d95]
reverse link AEndpointHandler to BattleEndpointHandler--><path d="M3550.14,738.69 C3146,761.09 2326.82,808.88 2198,835 C2181.46,838.35 2164.45,842.65 2147.59,847.48 " fill="none" id="AEndpointHandler-backto-BattleEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3549.89,731.69,3570.24,737.58,3550.66,745.67,3549.89,731.69" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[23b84522623ef68bce0214d439a0cf2d]
reverse link AEndpointHandler to CardsEndpointHandler--><path d="M3897.63,776.23 C3967.72,804.66 4054.66,839.92 4121.33,866.96 " fill="none" id="AEndpointHandler-backto-CardsEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3894.71,782.6,3878.8,768.6,3899.97,769.63,3894.71,782.6" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3ea514a1e8ba7350ed026b0f2e89b273]
reverse link AEndpointHandler to DeckEndpointHandler--><path d="M3775,788.92 C3775,809.97 3775,833.3 3775,853.75 " fill="none" id="AEndpointHandler-backto-DeckEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3768,788.83,3775,768.83,3782,788.83,3768,788.83" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[09941fdddceeabc1c49d46b60dfc94b6]
reverse link AEndpointHandler to PackageEndpointHandler--><path d="M3999.85,734.75 C4372.38,749.62 5101.56,784.19 5354,835 C5377.8,839.79 5402.58,846.5 5426.52,853.94 " fill="none" id="AEndpointHandler-backto-PackageEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3999.36,741.73,3979.66,733.95,3999.92,727.74,3999.36,741.73" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2053234ae2a97e6a81e40fdac330648d]
reverse link AEndpointHandler to ScoreEndpointHandler--><path d="M3652.5,776.18 C3587.83,802.41 3508.81,834.45 3444.59,860.5 " fill="none" id="AEndpointHandler-backto-ScoreEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3650.03,769.63,3671.2,768.6,3655.29,782.6,3650.03,769.63" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f44f37a8b97d18c26eaa7b64dd26ecdc]
reverse link AEndpointHandler to SessionEndpointHandler--><path d="M3550.2,731.76 C3316.4,740.92 2940.94,766.06 2624,835 C2582.11,844.11 2537.09,858.97 2499.28,872.99 " fill="none" id="AEndpointHandler-backto-SessionEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3550.02,724.76,3570.27,731,3550.55,738.75,3550.02,724.76" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[19d4b422120ca6ea0ee6daf8f1ede3be]
reverse link AEndpointHandler to StatsEndpointHandler--><path d="M3550.24,755.24 C3419.95,773.84 3253.24,800.93 3107,835 C3076.09,842.2 3043.34,851.23 3012.27,860.49 " fill="none" id="AEndpointHandler-backto-StatsEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3549.64,748.26,3570.42,752.39,3551.6,762.12,3549.64,748.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b860e17e4096114bcbca02af25952042]
reverse link AEndpointHandler to TradingEndpointHandler--><path d="M3999.57,730.92 C4450.39,741.07 5451.22,770.28 5788,835 C5793.91,836.14 5799.88,837.39 5805.89,838.75 " fill="none" id="AEndpointHandler-backto-TradingEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3999.34,737.92,3979.5,730.48,3999.65,723.92,3999.34,737.92" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7b7b849227f79a0ebd1923f0343d79a0]
reverse link AEndpointHandler to TransactionEndpointHandler--><path d="M3999.49,735.07 C4224.17,746.79 4578.8,773.86 4880,835 C4912.21,841.54 4946.26,850.75 4978.19,860.45 " fill="none" id="AEndpointHandler-backto-TransactionEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3999.12,742.06,3979.5,734.05,3999.83,728.08,3999.12,742.06" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6442417c12f5da7c772f4790ba7532f9]
reverse link AEndpointHandler to UserEndpointHandler--><path d="M3999.37,753.39 C4130.16,771.42 4297.66,798.56 4444,835 C4465.72,840.41 4488.37,846.99 4510.5,853.98 " fill="none" id="AEndpointHandler-backto-UserEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="3998.39,760.32,3979.52,750.68,4000.29,746.45,3998.39,760.32" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2ef6bc3208ec732a05c8104df433d99a]
reverse link BattleEndpointHandler to BattleSystem--><path codeLine="582" d="M1983,985.84 C1983,1011.06 1983,1039.17 1983,1064.33 " fill="none" id="BattleEndpointHandler-backto-BattleSystem" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1983,972.56,1979,978.56,1983,984.56,1987,978.56,1983,972.56" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cce154471f900826d196f8d9c93d7a34]
reverse link BattleEndpointHandler to IUserStatsRepository--><path codeLine="583" d="M2160.25,976.05 C2172.92,979.45 2185.59,982.49 2198,985 C2583.97,1063.09 2697.49,960.01 3082,1045 C3134.19,1056.54 3190.02,1077.36 3234.98,1096.44 " fill="none" id="BattleEndpointHandler-backto-IUserStatsRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2147.58,972.53,2152.2883,977.9919,2159.1409,975.7465,2154.4326,970.2846,2147.58,972.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9152cef2c516e1f62f8be607250ccdfa]
reverse link BattleEndpointHandler to IBattleHistoryRepository--><path codeLine="584" d="M2169.44,976.5 C2179.07,979.47 2188.63,982.32 2198,985 C2353.65,1029.56 2532.55,1070.17 2665.87,1098.41 " fill="none" id="BattleEndpointHandler-backto-IBattleHistoryRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2156.76,972.54,2161.2971,978.1449,2168.2159,976.1125,2163.6788,970.5076,2156.76,972.54" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4ba77b9e0b734232a7542169d8ac2656]
reverse link BattleEndpointHandler to ISessionRepository--><path codeLine="585" d="M2158.19,975.99 C2171.54,979.5 2184.91,982.57 2198,985 C2565.95,1053.31 3519.53,948.07 3881,1045 C3921.1,1055.75 3962.28,1076.97 3994.72,1096.48 " fill="none" id="BattleEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2145.4,972.5,2150.1387,977.9355,2156.9787,975.6518,2152.24,970.2164,2145.4,972.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e3799b6f97c2a24018986e698740873c]
reverse link CardsEndpointHandler to ISessionRepository--><path codeLine="587" d="M4185.89,963.97 C4156.09,1004.31 4115.63,1059.11 4088.04,1096.47 " fill="none" id="CardsEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4193.79,953.26,4187.007,955.7078,4186.6577,962.9104,4193.4406,960.4626,4193.79,953.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1551c856930ce8299031f140ef633a54]
reverse link CardsEndpointHandler to IUserRepository--><path codeLine="588" d="M4296.32,960.77 C4339.82,991.13 4396.23,1030.5 4444.9,1064.46 " fill="none" id="CardsEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4285.55,953.26,4288.1788,959.9749,4295.3882,960.1309,4292.7594,953.4161,4285.55,953.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7c6895aa0eeaa48574184b6d035d90fc]
reverse link DeckEndpointHandler to IUserRepository--><path codeLine="590" d="M3957.89,969.97 C3974.47,975.12 3991.03,980.2 4007,985 C4014.58,987.28 4152.92,1026.31 4288.17,1064.44 " fill="none" id="DeckEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3945.21,966.01,3949.7471,971.6149,3956.6659,969.5825,3952.1288,963.9776,3945.21,966.01" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6e7c9833a7d583c3711cae6f318f5105]
reverse link DeckEndpointHandler to ISessionRepository--><path codeLine="591" d="M3853.68,974.47 C3901.95,1013.42 3962.42,1062.2 4004.82,1096.4 " fill="none" id="DeckEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3843.26,966.07,3845.424,972.9487,3852.6059,973.5968,3850.4419,966.7181,3843.26,966.07" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[82e445fb4b71779d3c53853f81c2fa36]
reverse link DeckEndpointHandler to ICardsEndpointHandler--><path codeLine="592" d="M3775,979.36 C3775,1025.54 3775,1083.65 3775,1115.32 " fill="none" id="DeckEndpointHandler-backto-ICardsEndpointHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3775,966.07,3771,972.07,3775,978.07,3779,972.07,3775,966.07" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[19457d158349ece488f6740cb7db8b6d]
reverse link PackageEndpointHandler to ICardRepository--><path codeLine="594" d="M5571,979.25 C5571,999.88 5571,1022.9 5571,1044.88 " fill="none" id="PackageEndpointHandler-backto-ICardRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5571,966.07,5567,972.07,5571,978.07,5575,972.07,5571,966.07" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[09eb9db9710d672b27ac51c74cac4f21]
reverse link PackageEndpointHandler to IPackageRepository--><path codeLine="595" d="M5398.3,970.32 C5383.33,975.33 5368.41,980.28 5354,985 C5269.44,1012.69 5243.25,1006.57 5163,1045 C5133.48,1059.14 5102.99,1078.8 5078.03,1096.45 " fill="none" id="PackageEndpointHandler-backto-IPackageRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5410.87,966.1,5403.9104,964.2123,5399.4911,969.9106,5406.4507,971.7982,5410.87,966.1" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e6fdbd425a21324af62609da7b18385d]
reverse link PackageEndpointHandler to IUserRepository--><path codeLine="596" d="M5409.87,969.94 C5391.19,975.58 5372.28,980.76 5354,985 C5148.42,1032.63 5089.79,1002.95 4883,1045 C4855.57,1050.58 4827.08,1057.24 4798.84,1064.4 " fill="none" id="PackageEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5422.44,966.07,5415.5277,964.0159,5410.9729,969.6064,5417.8853,971.6606,5422.44,966.07" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a4da915df7009b0fadd8b137475242dd]
reverse link PackageEndpointHandler to ISessionRepository--><path codeLine="597" d="M5415.16,969.84 C5394.81,975.83 5374.07,981.13 5354,985 C4858.01,1080.76 4703.32,901.45 4219,1045 C4181.95,1055.98 4144.34,1076.96 4114.7,1096.26 " fill="none" id="PackageEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5427.77,966.02,5420.8677,963.9324,5416.2859,969.5008,5423.1882,971.5884,5427.77,966.02" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[857a94184bb43462f229fe832369066a]
reverse link ScoreEndpointHandler to ISessionRepository--><path codeLine="599" d="M3470.72,963.61 C3495.01,971.41 3520.08,978.87 3544,985 C3691.37,1022.79 3737.19,995.38 3881,1045 C3918.61,1057.98 3957.95,1078.17 3989.87,1096.46 " fill="none" id="ScoreEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3458.1,959.51,3462.5725,965.1666,3469.5142,963.2137,3465.0416,957.5571,3458.1,959.51" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[11ac046077f09660e8d99617caf25a64]
reverse link ScoreEndpointHandler to IUserRepository--><path codeLine="600" d="M3464.55,963.63 C3490.65,971.9 3517.93,979.52 3544,985 C3838.74,1046.98 3922.77,990.61 4219,1045 C4248.01,1050.33 4278.14,1057.06 4307.89,1064.47 " fill="none" id="ScoreEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3451.84,959.52,3456.3243,965.1672,3463.2619,963.1998,3458.7775,957.5526,3451.84,959.52" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[41a9784b3da4635e4288d029a25b994c]
reverse link ScoreEndpointHandler to IUserStatsRepository--><path codeLine="601" d="M3325,972.63 C3325,1011.78 3325,1061.44 3325,1096.17 " fill="none" id="ScoreEndpointHandler-backto-IUserStatsRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3325,959.53,3321,965.53,3325,971.53,3329,965.53,3325,959.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9a5f059d08add222756a88c942b75d42]
reverse link SessionEndpointHandler to ISessionRepository--><path codeLine="603" d="M2509.11,951.68 C2544.69,964.66 2585.58,977.57 2624,985 C3173.13,1091.2 3341.67,896.89 3881,1045 C3920.87,1055.95 3961.87,1077.05 3994.25,1096.44 " fill="none" id="SessionEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2496.76,947.1,2500.993,952.9379,2508.01,951.2759,2503.777,945.438,2496.76,947.1" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[92929ba85aae9a5c29cb765564c73e62]
reverse link StatsEndpointHandler to IUserRepository--><path codeLine="605" d="M3015.79,963.26 C3045.7,971.87 3077.1,979.7 3107,985 C3594.35,1071.33 3730.72,964.09 4219,1045 C4249.42,1050.04 4281.04,1056.84 4312.15,1064.48 " fill="none" id="StatsEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3003.07,959.53,3007.702,965.0567,3014.5851,962.9067,3009.9531,957.38,3003.07,959.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[13de3c90bb720e96ec4de2d86cad159c]
reverse link StatsEndpointHandler to IBattleHistoryRepository--><path codeLine="606" d="M2865,972.63 C2865,1011.78 2865,1061.44 2865,1096.17 " fill="none" id="StatsEndpointHandler-backto-IBattleHistoryRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2865,959.53,2861,965.53,2865,971.53,2869,965.53,2865,959.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9f79cfd5493ff5281f8b6477bdad8713]
reverse link StatsEndpointHandler to ISessionRepository--><path codeLine="607" d="M3017.6,963.19 C3046.98,971.66 3077.73,979.46 3107,985 C3446.01,1049.17 3549.68,948.7 3881,1045 C3920.37,1056.44 3961,1077.33 3993.3,1096.46 " fill="none" id="StatsEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="3005.1,959.52,3009.732,965.0467,3016.6151,962.8967,3011.9831,957.37,3005.1,959.52" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5025fcdf3c35f2ef56f4301abf0568a9]
reverse link TradingEndpointHandler to ISessionRepository--><path codeLine="609" d="M5793.01,984.05 C5791.33,984.38 5789.67,984.69 5788,985 C5444.84,1048.17 4554.25,948.29 4219,1045 C4181.71,1055.76 4143.94,1076.84 4114.26,1096.27 " fill="none" id="TradingEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5805.91,981.37,5799.2192,978.6805,5794.1632,983.8222,5800.854,986.5117,5805.91,981.37" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a22a36a880fe3af117cab0d36d21a3fc]
reverse link TradingEndpointHandler to ITradingDealRepository--><path codeLine="610" d="M6116.58,993.01 C6147.75,1016.33 6181.51,1041.6 6212.01,1064.42 " fill="none" id="TradingEndpointHandler-backto-ITradingDealRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="6106.12,985.18,6108.5305,991.9763,6115.7311,992.3652,6113.3206,985.5689,6106.12,985.18" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[984fec46fe685419de4a4f4921313acc]
reverse link TradingEndpointHandler to IUserRepository--><path codeLine="611" d="M5793,983.98 C5791.33,984.33 5789.66,984.67 5788,985 C5392.62,1063.51 5280.27,976.66 4883,1045 C4853.2,1050.13 4822.23,1056.87 4791.73,1064.39 " fill="none" id="TradingEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5805.87,981.15,5799.1495,978.5356,5794.1514,983.7336,5800.8719,986.348,5805.87,981.15" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[404226ab5c157dea93bdf78a24ac92e9]
reverse link TradingEndpointHandler to ICardRepository--><path codeLine="612" d="M5853.44,991.13 C5820.07,1008.54 5784.49,1027.11 5750.22,1044.98 " fill="none" id="TradingEndpointHandler-backto-ICardRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5865.14,985.02,5857.9703,984.2488,5854.5007,990.5703,5861.6705,991.3416,5865.14,985.02" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d0a5fa1cf45c6f86a68ffc0f746c0f50]
reverse link TransactionEndpointHandler to ISessionRepository--><path codeLine="614" d="M4966.34,963.28 C4937.93,971.64 4908.26,979.37 4880,985 C4590.7,1042.62 4500.19,955.86 4219,1045 C4182.47,1056.58 4145.2,1077.35 4115.63,1096.38 " fill="none" id="TransactionEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4978.86,959.53,4971.965,957.4184,4967.3639,962.9709,4974.2589,965.0825,4978.86,959.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[79a0679db2026c2fa9b67ac5ea8fed18]
reverse link TransactionEndpointHandler to IPackageRepository--><path codeLine="615" d="M5091.96,971.61 C5075.72,1010.91 5054.97,1061.13 5040.49,1096.17 " fill="none" id="TransactionEndpointHandler-backto-IPackageRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="5096.95,959.53,5090.9598,963.5447,5092.3618,970.6182,5098.352,966.6035,5096.95,959.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[36384957ca6a218eac400f18198cbb19]
reverse link TransactionEndpointHandler to IUserRepository--><path codeLine="616" d="M4984.08,964.43 C4909.94,994.23 4816.46,1031.8 4735.35,1064.4 " fill="none" id="TransactionEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4996.27,959.53,4989.2106,958.0588,4985.1374,964.0094,4992.1968,965.4806,4996.27,959.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cf412fa1950b1e64f286cae83db2ba2e]
reverse link UserEndpointHandler to IUserRepository--><path codeLine="618" d="M4629.41,977.8 C4616.18,1004.91 4600.85,1036.33 4587.27,1064.17 " fill="none" id="UserEndpointHandler-backto-IUserRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4635.13,966.07,4628.9045,969.7091,4629.8692,976.8553,4636.0947,973.2163,4635.13,966.07" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[75377c30033e81f6bd66132d9ae40416]
reverse link UserEndpointHandler to ISessionRepository--><path codeLine="619" d="M4491.04,970.24 C4475.18,975.37 4459.32,980.36 4444,985 C4344.94,1014.98 4314.64,1005.46 4219,1045 C4185.24,1058.96 4149.87,1078.7 4120.82,1096.46 " fill="none" id="UserEndpointHandler-backto-ISessionRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="4503.74,966.1,4496.7957,964.1567,4492.331,969.8195,4499.2753,971.7627,4503.74,966.1" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[edecbb3f96c4d0f1ea1a82d0f5136b00]
link EBattleResult to ECardType--><!--MD5=[5efb45ee27335de462a18c10e5d959ba]
link ECardType to EElementalType--><!--MD5=[cb59113f1bf5f7ffa80fafabf8f61df4]
link EBattleResult to EMonsterType--><!--MD5=[d50fe1c8bf05942509a2cf606645406d]
link EMonsterType to EServantClass--><!--MD5=[7960366a10e0da57ce3c6d566826daba]
link EServantClass to RouteAction--><!--MD5=[eb7f131170b97ca6a906c9d226055603]
link EMonsterType to EHTTPVerbs--><!--MD5=[171a00549c78962035d57f675fd6b01e]
@startuml

abstract class ACard{
    + int Id {get;set;}
    + string Name {get;set;}
    + string Description {get;set;}
    + double Damage {get;set;}
    + EElementalType ElementalType {get;set;}
    + ECardType CardType {get;set;}

    + override string ToString()
}
class AreaCard extends ACard{
    + int Uses{get;set;}
}
class MonsterCard extends ACard{
    + EMonsterType MonsterType {get;set;}
}
class ServantCard extends ACard{
    + EServantClass ServantClass {get;set;}
}
class SpellCard extends ACard{}
class TrapCard extends ACard{
    + int Uses{get;set;}
}


class BattleHistory{
    + int Id {get;set;}
    + User User {get;set;}
    + EBattleResult BattleResult {get;set;}
    + int PointChange {get;set;}
}

class Package {
    + int Id {get;set}
    + List<ACard> Cards {get;set;}
}

class TradingDeal {
    + int Id {get;set;}
    + ACard OfferedCard {get;set;}
    + int RequiredCoins {get;set;}
    + int MinDamage {get;set;}
    + ECardType CardType {get;set;}
    + User OfferingUser {get;set;}
}

class User{
    + int Id {get;set;}
    + string Username {get;set;}
    + string Bio {get;set;}
    + List<ACard> CardStack {get;set;}
    + List<ACard> CardDeck {get;set;}
    + int Coins {get;set;}
}

class UserStats{
    + User User {get;set;}
    + int Points {get;set;}
    + double WinLoseReatio {get;set;}
}


User o- - ACard
UserStats o- - User
TradingDeal o- - ACard
TradingDeal o- - User
Package o- - ACard
BattleHistory o- - User

enum EBattleResult{
    WIN,
    LOSS,
    DRAW
}
enum ECardType{
    MONSTER,
    AREA;
    TRAP,
    SERVANT,
    SPELL
}
enum EElementalType{
    FIRE,
    WATER,
    NORMAL,
    GROUND,
    ELECTRIC
}
enum EMonsterType{
    GOBLIN,
    WIZZARD,
    KNIGHT,
    KRAKEN,
    DRAGON,
    ORK,
    ELF
}

enum EServantClass{
    SABER,
    ARCHER,
    LANCER,
    RIDER,
    ASSASSIN,
    CASTER,
    BERSERKER
}


abstract class AAffinityChart{
    # List<EElementalType> elementalWeaknesses
    # List<EElementalType> elementalStrengths
    + EElementalType ElementalType

    + virtual double CalculateElementalAttackModifier(EElementalType elementalType)
}



abstract class AServantHierarchy{
    # List<EServantClass> servantWeaknesses
    # List<EServantClass> servantStrengths
    + EServantClass ServantClass

    + virtual double CalculateServantAttackModifier(EServantClass servantClass)
}


abstract class AMonsterHierarchy{
    # List<EMonsterType> generalMonsterWeaknesses
    # List<SpecificElementalMonsterCombination> specificElementalMonsterWeaknesses

    # List<ECardType> generalCardStrengths
    # List<SpecificElementalCardTypeCombination> specificElementalCardTypeStrengths

    # List<ECardType> generalCardWeaknesses
    # List<SpecificElementalCardTypeCombination> specificElementalCardTypeWeaknesses


    + virtual double CalculateMonsterAttackModifier(EMonsterType monsterType, EElementalType elementalType)
    + virtual double CalculateMixedBattleEnemyAttackModifier(ECardType cardType, EElementalType elementalType)
    + virtual double CalculateMixedBattleOwnAttackModifier(ECardType cardType, EElementalType elementalType)
}

class SpecificElementalMonsterCombination{
    + EMonsterType MonsterType {get;set;}
    + EElementalType ElementalType {get;set;}
}

class SpecificElementalCardTypeCombination{
    + ECardType CardType{get;set;}
    + EElementalType ElementalType{get;set;}
}

AMonsterHierarchy o- - SpecificElementalCardTypeCombination
AMonsterHierarchy o- - SpecificElementalMonsterCombination


interface IAreaBattleInfluencer{
    + BattleResult InfluenceBattle(BattleResult battleResult)
}

interface ITrapBattleInfluencer{
    + BattleResult InfluenceBattle(BattleResult battleResult, bool plantedByAttacker)
}

interface IArena{
    + BattleResult ConductBattle(ACard attacker, ACard defender, IRulebook rulebook)
}

interface IRulebook{
    + BattleResult DetermineVictor(ACard attacker, ACard defender)
}

class BattleResult{
    + ACard Victor{get;set;}
    + ACard Attacker{get;set;}
    + ACard Defender{get;set;}
    + double AttackerDamage{get;set;}
    + double DefenderDamage{get;set;}
    + string BattleDescription{get;set;}
}

class BattleSummary{
    + int BattleStats{get;set;}
    + User Victor {get;set;}
    + User Loser {get;set;}
    + List<BattleResult> BattleResults {get;set;}
}

class Area implements IAreaBattleInfluencer{
    + EElementalType ElementalType{get;set;}
}

class Trap implements ITrapBattleInfluencer{
    + double PureDamage{get;set;}
}

class Arena implements IArena{
    + IAreaBattleInfluencer battleFieldArea
    + ITrapBattleInfluencer attackerTrap
    + ITrapBattleInfluencer defenderTrap
}

class Rulebook implements IRulebook{
    - List<AServantHierarchy> servantHierarchies
    - List<AAffinityChart> affinityCharts
    - List<AMonsterHierarchy> monsterHierarchies
}

class BattleSystem{
    - IRulebook rulebook
    - static ConcurrentQueue<User> userQueue
    - IArena _arena
    - static object padlock
    - Task<BattleSummary> GetBattleSummary
    - BattleSummary _battleSummary

    + async Task<BattleSummary> DuelEnqueue(User user)
    + async Task<BattleSummary> Duel(User attacker, User defender)
}


Rulebook *- - AServantHierarchy
Rulebook *- - AAffinityChart
Rulebook *- - AMonsterHierarchy
Arena o- - ITrapBattleInfluencer
Arena o- - IAreaBattleInfluencer
BattleSystem *- -IArena
BattleSystem *- - IRulebook
BattleSystem - - BattleSummary
Arena - - IRulebook
IRulebook - - BattleResult
IArena - - BattleResult
ITrapBattleInfluencer - - BattleResult
IAreaBattleInfluencer - - BattleResult

interface INpgsqlDataReader{
    + bool Read()
    + object GetValue(int i)
    + int FieldCount()
}
interface INpgsqlCommand{
    + int ExecuteNonQuery()
    + INpgsqlDataReader ExecuteReader()
    + Npgsql.NpgsqlParameterCollection Parameters {get;}
    + Npgsql.NpgsqlConnection Connection {get;set;}
}
interface IMTCGDatabaseConnection{
    + int ExecuteStatement(INpgsqlCommand npgsqlCommand)
    + List<object[]> QueryDatabase(INpgsqlCommand npgsqlCommand)
}

class MTCGDatabaseConnection implements IMTCGDatabaseConnection{
    - static MTCGDatabaseConnection _mtcgDatabaseConnection
    - NpgsqlConnection _npgsqlConnection

    + static MTCGDatabaseConnection ReturenMTCGDatabaseConnection()
}
class NpgsqlDataReader implements INpgsqlDataReader{
    - Npgsql.NpgsqlDataReader _npgsqlDataReader
    + NpgsqlDataReader(Npgsql.NpgsqlDataReader npgsqlDataReader)
}
class NpgsqlCommand implements INpgsqlCommand{
    - Npgsql.NpgsqlCommand _npgsqlCommand
    + NpsqlCommand(string cmdText)
}

interface IBattleHistoryRepository{
    + int Create(User user, EBattleResult battleResult, int pointChange)
    + BattleHistory Read(int id, User user)
    + List<BattleHistory> ReadAll(User user)
}

interface ICardRepository{
    + List<ACard> LoadCardDeck(User user)
    + List<ACard> LoadCardStack(User user)
    + List<ACard> LoadPackage(int packageid)
    + int CreateMonsterCard(string name, string description,double damage,EElementalType elementalType,EMonsterType monsterType)
    + int CreateSpellCard(string name, string description,double damage,EElementalType elementalType)
    + int CreateAreaCard(string name, string description,double damage,EElementalType elementalType, int uses)
    + int CreateServantCard(string name, string description,double damage,EElementalType elementalType, EServantClass servantClass)
    + int CreateTrapCard(string name, string description,double damage,EElementalType elementalType, int uses)
    + int Delete(int id)
    + ACard Read(int id)
    + List<ACard> ReadAll()
}

interface IPackageRepository{
    + int CreatePackage(List<ACard> cards)
    + int OpenPackage(User user)
    + int DeletePackage(int id)
}
interface ISessionRepository{
    + bool Login(string username, string password)
    + bool CheckIfInValidSession(string username)
    + bool Logout(string username)
}

interface ITradingDealRepository{
    + List<TradingDeal> ReadAll()
    + TradingDeal Read(int id)
    + int Create(ACard offeredCard, int requiredCoins, int minDamage, ECardType wantedCardType, User user)
    + int Delete(int id, User user)
    + int ConductTrade(TradingDeal tradingDeal, User user, ACard card)
    + int ConductTrade(TradingDeal tradingDeal, User user)
    + bool TradePossible(TradingDeal tradingDeal, User user, ACard card)
    + bool TradePossible(TradingDeal tradingDeal, User user)
}

interface IUserRepository{
    + List<TradingDeal> ReadAll()
    + TradingDeal Read(int id)
    + int Create(ACard offeredCard, int requiredCoins, int minDamage, ECardType wantedCardType, User user)
    + int Delete(int id, User user)
    + int ConductTrade(TradingDeal tradingDeal, User user, ACard card)
    + int ConductTrade(TradingDeal tradingDeal, User user)
    + bool TradePossible(TradingDeal tradingDeal, User user, ACard card)
    + bool TradePossible(TradingDeal tradingDeal, User user)
}

interface IUserStatsRepository{
    + List<UserStats> ReadAll()
    + UserStats Read(User user)
    + int Update(User user)
}

class UserRepository implements IUserRepository{
    - IMTCGDatabaseConnection _mtcgDatabaseConnection
    - ICardRepository _cardRepository
    - User ConvertToUser(object[] row)
    - bool CheckUniquenessOfUsername(string username)
}

class UserStatsRepository implements IUserStatsRepository{
    - IUserRepository _userRepository
    - IMTCGDatabaseConnection _mtcgDatabaseConnection
    - static int points
    - UserStats ConvertToUserStats(object[] row)
}

class TradingDealRepository implements ITradingDealRepository{
    - MTCGDatabaseConnection _mtcgDatabaseConnection
    - IUserRepository _userRepository
    - ICardRepository _cardRepository
    - TradingDeal ConvertToTradingDeal(object[] row)
}

class SessionRepository implements ISessionRepository{
    - IMTCGDatabaseConnection _mtcgDatabaseConnection
    - IUserRepository _userRepository
}

class PackageRepository implements IPackageRepository{
    - IMTCGDatabaseConnection _mtcgDatabaseConnection
    - ICardRepository _cardRepository
    - IUserRepository _userRepository
    - static int packageCosts
}

class CardRepository implements ICardRepository{
    - MTCGDatabaseConnection _mtcgDatabaseConnection
    - ACard ConvertToCard(object[] row)
    - int CreateBaseCard(string name, string description, double damage, EElementalType elementalType,ECardType cardType)
}
class BattleHistoryRepository implements IBattleHistoryRepository{
    - IMTCGDatabaseConnection _mtcgDatabaseConnection
    - IUserRepository _userRepository
    - BattleHistory ConvertToBattleHistory(object[] row, User user)
}

BattleHistoryRepository *- - IMTCGDatabaseConnection
CardRepository *- - IMTCGDatabaseConnection
PackageRepository *- - IMTCGDatabaseConnection
SessionRepository *- - IMTCGDatabaseConnection
TradingDealRepository *- - IMTCGDatabaseConnection
UserRepository *- - IMTCGDatabaseConnection
UserStatsRepository *- - IMTCGDatabaseConnection

IMTCGDatabaseConnection - - INpgsqlCommand
IMTCGDatabaseConnection - - INpgsqlDataReader


class BaseHTTPServer implements IHTTPServer{
    + const string VERSION
    + const string NAME
    + List<IResourceEndpointHandler> resourceEndpointHandlers
    - int port
    - bool running
    - ITcpListener listener
    

    + BaseHTTPServer(int port)
    - void Run()
}

class RequestContext{
    + EHTTPVerbs Type {get;set;}
    + String URL {get;set;}
    + String HTTPVersion {get;set;}
    + List<HttpHeaderPair> HeaderPairs {get;private set;}
    + String Body {get;set;}

    + void AddHeader(String headerLine)
    + static RequestContext GetBaseRequest(String request)
    + override string ToString()
    - RequestContext(String type, String url, String httpVersion)
}

class HttpHeaderPair{
    + String HeaderKey {get;set;}
    + String HeaderValue {get;set;}

    + HttpHeaderPair(String headerKey, String headerValue)
    + override string ToString()
}

interface IResourceEndpointHandler{
    + bool CheckResponsibility(RequestContext requestContext)
    + ResponseContext HandleRequest(RequestContext requestContext)
}

class RouteAction{
     + String PathRegex {get;set;}
     + Func<RequestContext, ResponseContext> PathAction {get;set;}
     + EHTTPVerbs RequestType {get;set;}

     + RouteAction(Func<RequestContext, ResponseContext> pathAction, String pathRegex, EHTTPVerbs requestType)
}

class ResponseContext{
    + String HTTPVersion {get;set;}
    + String StatusMessage {get;set}
    + int StatusCode {get;set}
    + List<HttpHeaderPair> HeaderPairs {get;private set;}
    + String Content {get;private set;}

    + static ResponseContext OKResponse()
    + static ResponseContext CreatedResponse()
    + static ResponseContext NotFoundResponse()
    + static ResponseContext BadRequestResponse()
    + ResponseContext AddHeader(HttpHeaderPair httpHeaderPair)
    + ResponseContext SetContent(String content, String contentType)
    + override string ToString()
    - ResponseContext(String httpVersion, String statusMessage, int statusCode)
}

interface IHTTPServer{
    + void Start()
    + void HandleClient(ITcpClient tcpClient)
}


enum EHTTPVerbs{
    GET,
    HEAD,
    POST,
    DELETE,
    PUT,
    CONNECT,
    TRACE,
    PATCH,
    OPTIONS
}

interface ITcpClient implements IDisposable{
    + Stream GetStream()
    + void Close()
}

interface ITcpListener{
    + void Start()
    + void Stop()
    + TcpClient AcceptTcpClient()
}

class TcpClient implements ITcpClient{
    - readonly System.Net.Sockets.TcpClient _client
    + TcpClient()
    + TcpClient(System.Net.Sockets.TcpClient tcpClient)
}

class TcpListener implements ITcpListener{
    - readonly System.Net.Sockets.TcpListener _tcpListener;
    + TcpListener(IPAddress ipAddress, in port)
}


 BaseHTTPServer o- - IResourceEndpointHandler
 RequestContext o- - HttpHeaderPair
 ResponseContext o- - HttpHeaderPair
 BaseHTTPServer ..> ITcpClient
 BaseHTTPServer o- - ITcpListener
 ITcpListener ..> ITcpClient

BaseHTTPServer - - RequestContext
BaseHTTPServer - - ResponseContext

abstract class AEndpointHandler implements IResourceEndpointHandler{
    # List<RouteAction> RouteActions
    # string urlBase
    - RouteAction DetermineRouteAction(RequestContext requestContext)
}

class BattleEndpointHandler extends AEndpointHandler{
    - IUserRepository _userRepository
    - ISessionRepository _sessionRepository
    - IBattleHistoryRepository _battleHistoryRepository
    - IUserStatsRepository _userStatsRepository
    - BattleSystem _battleSystem
    + ResponseContext BattleHandler(RequestContext requestContext)
}

class CardsEndpointHandler extends AEndpointHandler{
    - ISessionRepository _sessionRepository
    - IUserRepository _userRepository
    + ResponseContext ReadAllHandler(RequestContext requestContext)
}

class DeckEndpointHandler extends AEndpointHandler{
    - IUserRepository _userRepository
    - ISessionRepository _sessionRepository
    - ICardRepository _cardRepository
    + ResponseContext ReadAllHandler(RequestContext requestContext)
    + ResponseContext UpdateDeckHandler(RequestContext requestContext)
}

class PackageEndpointHandler extends AEndpointHandler{
    - ICardRepository _cardRepository
    - IPackageRepository _packageRepository
    - ISessionRepository _sessionRepository
    - IUserRepository _userRepository
    + ResponseContext CreateHandler(RequestContext requestContext)
}

class ScoreEndpointHandler extends AEndpointHandler{
    - IUserRepository _userRepository
    - ISessionRepository _sessionRepository
    - IUserStatsRepository _userStatsRepository
    + ResponseContext ReadAllHandler(RequestContext requestContext)
}

class SessionEndpointHandler extends AEndpointHandler{
    - ISessionRepository _sessionRepository
    + ResponseContext LoginHandler(RequestContext requestContext)
}

class StatsEndpointHandler extends AEndpointHandler{
    - IUserRepository _userRepository
    - ISessionRepository _sessionRepository
    - IBattleHistoryRepository _battleHistoryRepository
    + ResponseContext ReadAllForUserHandler(RequestContext requestContext)
}

class TradingEndpointHandler extends AEndpointHandler{
    - ISessionRepository _sessionRepository
    - IUserRepository _userRepository
    - ICardRepository _cardRepository
    - ITradingDealRepository _tradingDealRepository
    + ResponseContext CreateHandler(RequestContext requestContext)
    + ResponseContext ReadAllHandler(RequestContext requestContext)
    + ResponseContext DeleteHandler(RequestContext requestContext)
    + ResponseContext TradeHandler(RequestContext requestContext)
}

class TransactionEndpointHandler extends AEndpointHandler{
    - IPackageRepository _packageRepository
    - ISessionRepository _sessionRepository
    - IUserRepository _userRepository
    + ResponseContext OpenPackageHandler(RequestContext requestContext)
}

class UserEndpointHandler extends AEndpointHandler{
    - IUserRepository _userRepository
    - ISessionRepository _sessionRepository
    + ResponseContext CreateHandler(RequestContext requestContext)
    + ResponseContext ReadHandler(RequestContext requestContext)
    + ResponseContext UpdateHandler(RequestContext requestContext)
}

BattleEndpointHandler *- - BattleSystem
BattleEndpointHandler *- - IUserStatsRepository
BattleEndpointHandler *- - IBattleHistoryRepository
BattleEndpointHandler *- - ISessionRepository

CardsEndpointHandler *- - ISessionRepository
CardsEndpointHandler *- - IUserRepository

DeckEndpointHandler *- - IUserRepository
DeckEndpointHandler *- - ISessionRepository
DeckEndpointHandler *- - ICardsEndpointHandler

PackageEndpointHandler *- - ICardRepository
PackageEndpointHandler *- - IPackageRepository
PackageEndpointHandler *- - IUserRepository
PackageEndpointHandler *- - ISessionRepository

ScoreEndpointHandler *- - ISessionRepository
ScoreEndpointHandler *- - IUserRepository
ScoreEndpointHandler *- - IUserStatsRepository

SessionEndpointHandler *- - ISessionRepository

StatsEndpointHandler *- - IUserRepository
StatsEndpointHandler *- - IBattleHistoryRepository
StatsEndpointHandler *- - ISessionRepository

TradingEndpointHandler  *- - ISessionRepository
TradingEndpointHandler *- - ITradingDealRepository
TradingEndpointHandler *- - IUserRepository
TradingEndpointHandler *- - ICardRepository

TransactionEndpointHandler *- - ISessionRepository
TransactionEndpointHandler *- - IPackageRepository
TransactionEndpointHandler *- - IUserRepository

UserEndpointHandler *- - IUserRepository
UserEndpointHandler *- - ISessionRepository

@enduml

PlantUML version 1.2020.22(Sun Dec 06 10:36:27 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>